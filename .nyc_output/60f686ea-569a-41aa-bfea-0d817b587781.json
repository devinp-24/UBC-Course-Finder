{"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\controller\\InsightFacade.ts":{"path":"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\controller\\InsightFacade.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":25},"end":{"line":29,"column":52}},"28":{"start":{"line":30,"column":16},"end":{"line":30,"column":49}},"29":{"start":{"line":31,"column":21},"end":{"line":31,"column":73}},"30":{"start":{"line":32,"column":17},"end":{"line":32,"column":43}},"31":{"start":{"line":33,"column":20},"end":{"line":33,"column":49}},"32":{"start":{"line":34,"column":19},"end":{"line":34,"column":47}},"33":{"start":{"line":35,"column":12},"end":{"line":35,"column":45}},"34":{"start":{"line":36,"column":30},"end":{"line":36,"column":68}},"35":{"start":{"line":38,"column":24},"end":{"line":38,"column":26}},"36":{"start":{"line":39,"column":27},"end":{"line":39,"column":29}},"37":{"start":{"line":45,"column":8},"end":{"line":45,"column":49}},"38":{"start":{"line":46,"column":8},"end":{"line":46,"column":49}},"39":{"start":{"line":47,"column":8},"end":{"line":47,"column":58}},"40":{"start":{"line":48,"column":8},"end":{"line":48,"column":55}},"41":{"start":{"line":49,"column":8},"end":{"line":49,"column":83}},"42":{"start":{"line":52,"column":22},"end":{"line":52,"column":43}},"43":{"start":{"line":53,"column":19},"end":{"line":53,"column":26}},"44":{"start":{"line":55,"column":8},"end":{"line":97,"column":11}},"45":{"start":{"line":56,"column":12},"end":{"line":59,"column":13}},"46":{"start":{"line":57,"column":16},"end":{"line":57,"column":72}},"47":{"start":{"line":58,"column":16},"end":{"line":58,"column":23}},"48":{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},"49":{"start":{"line":61,"column":16},"end":{"line":61,"column":79}},"50":{"start":{"line":62,"column":16},"end":{"line":62,"column":23}},"51":{"start":{"line":64,"column":12},"end":{"line":67,"column":13}},"52":{"start":{"line":65,"column":16},"end":{"line":65,"column":79}},"53":{"start":{"line":66,"column":16},"end":{"line":66,"column":23}},"54":{"start":{"line":68,"column":12},"end":{"line":96,"column":15}},"55":{"start":{"line":70,"column":38},"end":{"line":70,"column":59}},"56":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"57":{"start":{"line":72,"column":20},"end":{"line":72,"column":101}},"58":{"start":{"line":74,"column":16},"end":{"line":76,"column":19}},"59":{"start":{"line":75,"column":20},"end":{"line":75,"column":50}},"60":{"start":{"line":77,"column":16},"end":{"line":77,"column":41}},"61":{"start":{"line":80,"column":16},"end":{"line":80,"column":75}},"62":{"start":{"line":81,"column":16},"end":{"line":83,"column":17}},"63":{"start":{"line":82,"column":20},"end":{"line":82,"column":88}},"64":{"start":{"line":84,"column":16},"end":{"line":84,"column":48}},"65":{"start":{"line":85,"column":16},"end":{"line":85,"column":56}},"66":{"start":{"line":86,"column":16},"end":{"line":92,"column":17}},"67":{"start":{"line":87,"column":20},"end":{"line":87,"column":76}},"68":{"start":{"line":88,"column":20},"end":{"line":88,"column":52}},"69":{"start":{"line":91,"column":20},"end":{"line":91,"column":96}},"70":{"start":{"line":95,"column":16},"end":{"line":95,"column":83}},"71":{"start":{"line":100,"column":24},"end":{"line":100,"column":33}},"72":{"start":{"line":101,"column":25},"end":{"line":101,"column":47}},"73":{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},"74":{"start":{"line":103,"column":12},"end":{"line":103,"column":66}},"75":{"start":{"line":105,"column":8},"end":{"line":125,"column":9}},"76":{"start":{"line":106,"column":27},"end":{"line":106,"column":57}},"77":{"start":{"line":107,"column":12},"end":{"line":109,"column":13}},"78":{"start":{"line":108,"column":16},"end":{"line":108,"column":78}},"79":{"start":{"line":110,"column":12},"end":{"line":110,"column":61}},"80":{"start":{"line":111,"column":26},"end":{"line":111,"column":60}},"81":{"start":{"line":112,"column":12},"end":{"line":115,"column":13}},"82":{"start":{"line":113,"column":16},"end":{"line":113,"column":56}},"83":{"start":{"line":114,"column":16},"end":{"line":114,"column":59}},"84":{"start":{"line":116,"column":12},"end":{"line":116,"column":22}},"85":{"start":{"line":119,"column":12},"end":{"line":124,"column":13}},"86":{"start":{"line":120,"column":16},"end":{"line":120,"column":28}},"87":{"start":{"line":123,"column":16},"end":{"line":123,"column":94}},"88":{"start":{"line":128,"column":28},"end":{"line":128,"column":32}},"89":{"start":{"line":129,"column":8},"end":{"line":151,"column":9}},"90":{"start":{"line":130,"column":32},"end":{"line":130,"column":66}},"91":{"start":{"line":131,"column":35},"end":{"line":131,"column":81}},"92":{"start":{"line":132,"column":30},"end":{"line":132,"column":78}},"93":{"start":{"line":133,"column":28},"end":{"line":133,"column":96}},"94":{"start":{"line":134,"column":12},"end":{"line":136,"column":13}},"95":{"start":{"line":135,"column":16},"end":{"line":135,"column":77}},"96":{"start":{"line":137,"column":36},"end":{"line":137,"column":95}},"97":{"start":{"line":138,"column":33},"end":{"line":138,"column":103}},"98":{"start":{"line":139,"column":12},"end":{"line":141,"column":13}},"99":{"start":{"line":140,"column":16},"end":{"line":140,"column":110}},"100":{"start":{"line":142,"column":12},"end":{"line":142,"column":32}},"101":{"start":{"line":145,"column":12},"end":{"line":150,"column":13}},"102":{"start":{"line":146,"column":16},"end":{"line":146,"column":69}},"103":{"start":{"line":149,"column":16},"end":{"line":149,"column":61}},"104":{"start":{"line":154,"column":8},"end":{"line":177,"column":9}},"105":{"start":{"line":155,"column":35},"end":{"line":155,"column":82}},"106":{"start":{"line":156,"column":33},"end":{"line":156,"column":35}},"107":{"start":{"line":157,"column":12},"end":{"line":171,"column":13}},"108":{"start":{"line":158,"column":38},"end":{"line":158,"column":90}},"109":{"start":{"line":158,"column":77},"end":{"line":158,"column":89}},"110":{"start":{"line":159,"column":36},"end":{"line":169,"column":21}},"111":{"start":{"line":170,"column":16},"end":{"line":170,"column":47}},"112":{"start":{"line":172,"column":12},"end":{"line":172,"column":32}},"113":{"start":{"line":175,"column":12},"end":{"line":175,"column":60}},"114":{"start":{"line":176,"column":12},"end":{"line":176,"column":79}},"115":{"start":{"line":180,"column":0},"end":{"line":180,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":18},"end":{"line":50,"column":5}},"line":44},"8":{"name":"(anonymous_8)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":40},"end":{"line":98,"column":5}},"line":51},"9":{"name":"(anonymous_9)","decl":{"start":{"line":55,"column":27},"end":{"line":55,"column":28}},"loc":{"start":{"line":55,"column":48},"end":{"line":97,"column":9}},"line":55},"10":{"name":"(anonymous_10)","decl":{"start":{"line":69,"column":22},"end":{"line":69,"column":23}},"loc":{"start":{"line":69,"column":31},"end":{"line":78,"column":13}},"line":69},"11":{"name":"(anonymous_11)","decl":{"start":{"line":74,"column":38},"end":{"line":74,"column":39}},"loc":{"start":{"line":74,"column":62},"end":{"line":76,"column":17}},"line":74},"12":{"name":"(anonymous_12)","decl":{"start":{"line":79,"column":22},"end":{"line":79,"column":23}},"loc":{"start":{"line":79,"column":46},"end":{"line":93,"column":13}},"line":79},"13":{"name":"(anonymous_13)","decl":{"start":{"line":94,"column":23},"end":{"line":94,"column":24}},"loc":{"start":{"line":94,"column":32},"end":{"line":96,"column":13}},"line":94},"14":{"name":"(anonymous_14)","decl":{"start":{"line":99,"column":4},"end":{"line":99,"column":5}},"loc":{"start":{"line":99,"column":28},"end":{"line":126,"column":5}},"line":99},"15":{"name":"(anonymous_15)","decl":{"start":{"line":127,"column":4},"end":{"line":127,"column":5}},"loc":{"start":{"line":127,"column":30},"end":{"line":152,"column":5}},"line":127},"16":{"name":"(anonymous_16)","decl":{"start":{"line":153,"column":4},"end":{"line":153,"column":5}},"loc":{"start":{"line":153,"column":25},"end":{"line":178,"column":5}},"line":153},"17":{"name":"(anonymous_17)","decl":{"start":{"line":158,"column":69},"end":{"line":158,"column":70}},"loc":{"start":{"line":158,"column":77},"end":{"line":158,"column":89}},"line":158}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26},"19":{"loc":{"start":{"line":56,"column":12},"end":{"line":59,"column":13}},"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":59,"column":13}},{"start":{"line":56,"column":12},"end":{"line":59,"column":13}}],"line":56},"20":{"loc":{"start":{"line":56,"column":16},"end":{"line":56,"column":59}},"type":"binary-expr","locations":[{"start":{"line":56,"column":16},"end":{"line":56,"column":19}},{"start":{"line":56,"column":23},"end":{"line":56,"column":39}},{"start":{"line":56,"column":43},"end":{"line":56,"column":59}}],"line":56},"21":{"loc":{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},{"start":{"line":60,"column":12},"end":{"line":63,"column":13}}],"line":60},"22":{"loc":{"start":{"line":64,"column":12},"end":{"line":67,"column":13}},"type":"if","locations":[{"start":{"line":64,"column":12},"end":{"line":67,"column":13}},{"start":{"line":64,"column":12},"end":{"line":67,"column":13}}],"line":64},"23":{"loc":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"type":"if","locations":[{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},{"start":{"line":71,"column":16},"end":{"line":73,"column":17}}],"line":71},"24":{"loc":{"start":{"line":81,"column":16},"end":{"line":83,"column":17}},"type":"if","locations":[{"start":{"line":81,"column":16},"end":{"line":83,"column":17}},{"start":{"line":81,"column":16},"end":{"line":83,"column":17}}],"line":81},"25":{"loc":{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},{"start":{"line":102,"column":8},"end":{"line":104,"column":9}}],"line":102},"26":{"loc":{"start":{"line":102,"column":12},"end":{"line":102,"column":55}},"type":"binary-expr","locations":[{"start":{"line":102,"column":12},"end":{"line":102,"column":15}},{"start":{"line":102,"column":19},"end":{"line":102,"column":35}},{"start":{"line":102,"column":39},"end":{"line":102,"column":55}}],"line":102},"27":{"loc":{"start":{"line":107,"column":12},"end":{"line":109,"column":13}},"type":"if","locations":[{"start":{"line":107,"column":12},"end":{"line":109,"column":13}},{"start":{"line":107,"column":12},"end":{"line":109,"column":13}}],"line":107},"28":{"loc":{"start":{"line":112,"column":12},"end":{"line":115,"column":13}},"type":"if","locations":[{"start":{"line":112,"column":12},"end":{"line":115,"column":13}},{"start":{"line":112,"column":12},"end":{"line":115,"column":13}}],"line":112},"29":{"loc":{"start":{"line":119,"column":12},"end":{"line":124,"column":13}},"type":"if","locations":[{"start":{"line":119,"column":12},"end":{"line":124,"column":13}},{"start":{"line":119,"column":12},"end":{"line":124,"column":13}}],"line":119},"30":{"loc":{"start":{"line":134,"column":12},"end":{"line":136,"column":13}},"type":"if","locations":[{"start":{"line":134,"column":12},"end":{"line":136,"column":13}},{"start":{"line":134,"column":12},"end":{"line":136,"column":13}}],"line":134},"31":{"loc":{"start":{"line":139,"column":12},"end":{"line":141,"column":13}},"type":"if","locations":[{"start":{"line":139,"column":12},"end":{"line":141,"column":13}},{"start":{"line":139,"column":12},"end":{"line":141,"column":13}}],"line":139},"32":{"loc":{"start":{"line":145,"column":12},"end":{"line":150,"column":13}},"type":"if","locations":[{"start":{"line":145,"column":12},"end":{"line":150,"column":13}},{"start":{"line":145,"column":12},"end":{"line":150,"column":13}}],"line":145},"33":{"loc":{"start":{"line":159,"column":36},"end":{"line":169,"column":21}},"type":"cond-expr","locations":[{"start":{"line":160,"column":20},"end":{"line":164,"column":21}},{"start":{"line":165,"column":20},"end":{"line":169,"column":21}}],"line":159}},"s":{"0":1,"1":148,"2":148,"3":148,"4":148,"5":148,"6":5,"7":148,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":148,"21":148,"22":1,"23":1,"24":1,"25":2,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":26,"36":26,"37":26,"38":26,"39":26,"40":26,"41":26,"42":19,"43":19,"44":19,"45":19,"46":5,"47":5,"48":14,"49":1,"50":1,"51":13,"52":2,"53":2,"54":11,"55":11,"56":11,"57":0,"58":11,"59":65384,"60":11,"61":11,"62":11,"63":0,"64":11,"65":11,"66":11,"67":11,"68":11,"69":0,"70":0,"71":9,"72":9,"73":9,"74":4,"75":5,"76":5,"77":5,"78":1,"79":4,"80":4,"81":4,"82":2,"83":2,"84":4,"85":1,"86":1,"87":0,"88":9,"89":9,"90":9,"91":8,"92":8,"93":8,"94":8,"95":0,"96":8,"97":8,"98":8,"99":0,"100":8,"101":1,"102":0,"103":1,"104":5,"105":5,"106":5,"107":5,"108":4,"109":4,"110":4,"111":4,"112":5,"113":0,"114":0,"115":1},"f":{"0":148,"1":5,"2":0,"3":1,"4":0,"5":1,"6":2,"7":26,"8":19,"9":19,"10":11,"11":65384,"12":11,"13":0,"14":9,"15":9,"16":5,"17":4},"b":{"0":[1,1,1],"1":[1,0],"2":[148,0],"3":[148,0],"4":[148,148],"5":[0,148],"6":[148,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[148,0],"15":[148,148],"16":[1,1,1],"17":[1,1],"18":[2,2],"19":[5,14],"20":[19,18,16],"21":[1,13],"22":[2,11],"23":[0,11],"24":[0,11],"25":[4,5],"26":[9,8,7],"27":[1,4],"28":[2,2],"29":[1,0],"30":[0,8],"31":[0,8],"32":[0,1],"33":[3,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/controller/InsightFacade.ts","sources":["C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/controller/InsightFacade.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAO0B;AAE1B,kDAA0B;AAC1B,0EAAkD;AAClD,4CAAuC;AACvC,kDAA6C;AAC7C,gDAA2C;AAC3C,8CAAgC;AAChC,qEAAgE;AAMhE,MAAqB,aAAa;IACzB,iBAAiB,GAAa,EAAE,CAAC;IACjC,oBAAoB,GAAiB,EAAE,CAAC;IACxC,WAAW,CAAS;IACpB,cAAc,CAAY;IAC1B,aAAa,CAAW;IACxB,mBAAmB,CAAsB;IAEjD;QACC,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,IAAI,eAAM,EAAE,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,IAAI,qBAAS,EAAE,CAAC;QACtC,IAAI,CAAC,aAAa,GAAG,IAAI,mBAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,mBAAmB,GAAG,IAAI,yCAAmB,EAAE,CAAC;IAQtD,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,EAAU,EAAE,OAAe,EAAE,IAAwB;QAC5E,IAAI,OAAO,GAAG,IAAI,eAAK,EAAE,CAAC;QAC1B,IAAI,IAAI,GAAG,KAAK,EAAmB,CAAC;QACpC,IAAI,OAAmB,CAAC;QAExB,OAAO,IAAI,OAAO,CAAW,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAChD,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;gBAChD,MAAM,CAAC,IAAI,6BAAY,CAAC,YAAY,CAAC,CAAC,CAAC;gBACvC,OAAO;aACP;YACD,IAAI,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;gBACxC,MAAM,CAAC,IAAI,6BAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBAC9C,OAAO;aACP;YACD,IAAI,IAAI,KAAK,mCAAkB,CAAC,QAAQ,EAAE;gBACzC,MAAM,CAAC,IAAI,6BAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBAC9C,OAAO;aACP;YACD,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC;iBACxC,IAAI,CAAC,CAAC,GAAU,EAAE,EAAE;gBACpB,MAAM,aAAa,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBAC5C,IAAI,CAAC,aAAa,EAAE;oBACnB,MAAM,IAAI,6BAAY,CAAC,uCAAuC,CAAC,CAAC;iBAChE;gBACD,aAAa,CAAC,OAAO,CAAC,CAAC,YAAY,EAAE,IAAI,EAAE,EAAE;oBAC5C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/B,CAAC,CAAC,CAAC;gBACH,OAAO,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC;iBACD,IAAI,CAAC,KAAK,EAAE,YAAsB,EAAE,EAAE;gBACtC,OAAO,GAAG,IAAI,oBAAU,CAAC,EAAE,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;gBACjD,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;oBAClC,MAAM,IAAI,6BAAY,CAAC,0BAA0B,CAAC,CAAC;iBACnD;gBACD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAChC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACxC,IAAI;oBACH,MAAM,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;oBACxD,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBAChC;gBAAC,OAAO,KAAK,EAAE;oBACf,MAAM,CAAC,IAAI,6BAAY,CAAC,gCAAgC,CAAC,CAAC,CAAC;iBAC3D;YACF,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,GAAQ,EAAE,EAAE;gBACnB,MAAM,CAAC,IAAI,6BAAY,CAAC,uBAAuB,CAAC,CAAC,CAAC;YACnD,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACJ,CAAC;IAGM,KAAK,CAAC,aAAa,CAAC,EAAU;QACpC,MAAM,OAAO,GAAG,SAAS,CAAC;QAC1B,MAAM,QAAQ,GAAG,GAAG,OAAO,GAAG,EAAE,OAAO,CAAC;QACxC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;YAChD,MAAM,IAAI,6BAAY,CAAC,YAAY,CAAC,CAAC;SACrC;QACD,IAAI;YAEH,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC9C,IAAI,CAAC,MAAM,EAAE;gBACZ,MAAM,IAAI,8BAAa,CAAC,mBAAmB,CAAC,CAAC;aAC7C;YAGD,MAAM,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YAGjD,MAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YACjD,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBACjB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aAC3C;YAGD,OAAO,EAAE,CAAC;SACV;QAAC,OAAO,KAAK,EAAE;YACf,IAAI,KAAK,YAAY,8BAAa,EAAE;gBACnC,MAAM,KAAK,CAAC;aACZ;iBAAM;gBACN,MAAM,IAAI,6BAAY,CAAC,6BAA6B,KAAK,EAAE,CAAC,CAAC;aAC7D;SACD;IACF,CAAC;IAGM,KAAK,CAAC,YAAY,CAAC,KAAc;QACvC,MAAM,WAAW,GAAG,IAAI,CAAC;QACzB,IAAI;YAEH,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACvD,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;YAGtE,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;YACnE,MAAM,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,OAAO,EAAE;gBACb,MAAM,IAAI,6BAAY,CAAC,mBAAmB,CAAC,CAAC;aAC5C;YAGD,MAAM,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,OAAO,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC;YAGpF,MAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,eAAe,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC;YAG5F,IAAI,YAAY,CAAC,MAAM,GAAG,WAAW,EAAE;gBACtC,MAAM,IAAI,oCAAmB,CAAC,6CAA6C,CAAC,CAAC;aAC7E;YAED,OAAO,YAAY,CAAC;SACpB;QAAC,OAAO,KAAK,EAAE;YACf,IAAI,KAAK,YAAY,oCAAmB,EAAE;gBACzC,MAAM,IAAI,oCAAmB,CAAC,IAAI,CAAC,CAAC;aACpC;iBAAM;gBACN,MAAM,IAAI,6BAAY,CAAC,GAAG,CAAC,CAAC;aAC5B;SACD;IACF,CAAC;IAGM,KAAK,CAAC,YAAY;QACxB,IAAI;YAEH,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,cAAc,EAAE,CAAC;YAGvE,MAAM,YAAY,GAAqB,EAAE,CAAC;YAK1C,KAAK,MAAM,EAAE,IAAI,cAAc,EAAE;gBAEhC,MAAM,aAAa,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;gBAG3E,MAAM,WAAW,GAAmB,aAAa,CAAC,CAAC;oBAClD;wBACC,EAAE,EAAE,aAAa,CAAC,EAAE;wBACpB,IAAI,EAAE,aAAa,CAAC,kBAAkB;wBACtC,OAAO,EAAE,aAAa,CAAC,QAAQ,CAAC,MAAM;qBACtC,CAAC,CAAC;oBACH;wBAEC,EAAE,EAAE,EAAE;wBACN,IAAI,EAAE,mCAAkB,CAAC,QAAQ;wBACjC,OAAO,EAAE,KAAK;qBACd,CAAC;gBAEH,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC/B;YAED,OAAO,YAAY,CAAC;SACpB;QAAC,OAAO,KAAK,EAAE;YACf,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;YAChD,MAAM,IAAI,6BAAY,CAAC,yBAAyB,CAAC,CAAC;SAClD;IACF,CAAC;CACD;AAtLD,gCAsLC","sourcesContent":["import {\r\n\tIInsightFacade,\r\n\tInsightDataset,\r\n\tInsightDatasetKind,\r\n\tInsightError,\r\n\tInsightResult,\r\n\tNotFoundError, ResultTooLargeError\r\n} from \"./IInsightFacade\";\r\nimport Section from \"../dataModels/Section\";\r\nimport JSZip from \"jszip\";\r\nimport CourseData from \"../dataModels/CourseData\";\r\nimport {Parser} from \"../query/Parser\";\r\nimport {Validator} from \"../query/Validator\";\r\nimport {Executor} from \"../query/Executor\";\r\nimport * as fse from \"fs-extra\";\r\nimport {DatasetCacheManager} from \"../util/DatasetCacheManager\";\r\n/**\r\n * This is the main programmatic entry point for the project.\r\n * Method documentation is in IInsightFacade\r\n *\r\n */\r\nexport default class InsightFacade implements IInsightFacade {\r\n\tprivate datasetCollection: string[] = [];\r\n\tprivate courseDataCollection: CourseData[] = [];\r\n\tprivate queryParser: Parser;\r\n\tprivate queryValidator: Validator;\r\n\tprivate queryExecutor: Executor;\r\n\tprivate datasetCacheManager: DatasetCacheManager;\r\n\r\n\tconstructor() {\r\n\t\tconsole.log(\"InsightFacadeImpl::init()\");\r\n\t\tthis.queryParser = new Parser();\r\n\t\tthis.queryValidator = new Validator();\r\n\t\tthis.queryExecutor = new Executor();\r\n\t\tthis.datasetCacheManager = new DatasetCacheManager();\r\n\t\t// this.loader.loadExistingDatasets().then(({datasetCollection, courseDataCollection}) => {\r\n\t\t// \tthis.datasetCollection = datasetCollection;\r\n\t\t// \tthis.courseDataCollection = courseDataCollection;\r\n\t\t// \tconsole.log(\"Datasets initialized successfully\");\r\n\t\t// }).catch((error) => {\r\n\t\t// \tconsole.error(\"Failed to initialize datasets\", error);\r\n\t\t// });\r\n\t}\r\n\r\n\tpublic async addDataset(id: string, content: string, kind: InsightDatasetKind): Promise<string[]> {\r\n\t\tlet zipFile = new JSZip();\r\n\t\tlet info = Array<Promise<string>>();\r\n\t\tlet dataset: CourseData;\r\n\r\n\t\treturn new Promise<string[]>((resolve, reject) => {\r\n\t\t\tif (!id || id.includes(\"_\") || id.trim() === \"\") {\r\n\t\t\t\treject(new InsightError(\"Invalid ID\"));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.datasetCollection.includes(id)) {\r\n\t\t\t\treject(new InsightError(\"ID already exists\"));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (kind !== InsightDatasetKind.Sections) {\r\n\t\t\t\treject(new InsightError(\"Invalid Kind Type\"));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tzipFile.loadAsync(content, {base64: true})\r\n\t\t\t\t.then((zip: JSZip) => {\r\n\t\t\t\t\tconst coursesFolder = zip.folder(\"courses\");\r\n\t\t\t\t\tif (!coursesFolder) {\r\n\t\t\t\t\t\tthrow new InsightError(\"Folder does not exist in the zip file\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcoursesFolder.forEach((relativePath, file) => {\r\n\t\t\t\t\t\tinfo.push(file.async(\"text\"));\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn Promise.all(info);\r\n\t\t\t\t})\r\n\t\t\t\t.then(async (filesContent: string[]) => { // Mark this function as async\r\n\t\t\t\t\tdataset = new CourseData(id, kind, filesContent);\r\n\t\t\t\t\tif (dataset.sections.length === 0) {\r\n\t\t\t\t\t\tthrow new InsightError(\"No valid sections to add\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.datasetCollection.push(id);\r\n\t\t\t\t\tthis.courseDataCollection.push(dataset);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.datasetCacheManager.saveDataset(id, dataset);\r\n\t\t\t\t\t\tresolve(this.datasetCollection);\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\treject(new InsightError(\"Failed to save dataset to disk\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err: any) => {\r\n\t\t\t\t\treject(new InsightError(\"Failed to add dataset\"));\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tpublic async removeDataset(id: string): Promise<string> {\r\n\t\tconst dataDir = \"./data/\";\r\n\t\tconst filePath = `${dataDir}${id}.json`;\r\n\t\tif (!id || id.includes(\"_\") || id.trim() === \"\") {\r\n\t\t\tthrow new InsightError(\"Invalid ID\");\r\n\t\t}\r\n\t\ttry {\r\n\t\t\t// Check if the dataset file exists in the data directory\r\n\t\t\tconst exists = await fse.pathExists(filePath);\r\n\t\t\tif (!exists) {\r\n\t\t\t\tthrow new NotFoundError(\"Dataset not found\");\r\n\t\t\t}\r\n\r\n\t\t\t// Proceed to remove the dataset from disk\r\n\t\t\tawait this.datasetCacheManager.removeDataset(id);\r\n\r\n\t\t\t// Remove the dataset from memory (if additional logic is needed to synchronize memory state)\r\n\t\t\tconst index = this.datasetCollection.indexOf(id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.datasetCollection.splice(index, 1);\r\n\t\t\t\tthis.courseDataCollection.splice(index, 1); // Assuming this is necessary for memory cleanup\r\n\t\t\t}\r\n\r\n\t\t\t// Successfully removed\r\n\t\t\treturn id;\r\n\t\t} catch (error) {\r\n\t\t\tif (error instanceof NotFoundError) {\r\n\t\t\t\tthrow error; // Re-throw if it's a not found error\r\n\t\t\t} else {\r\n\t\t\t\tthrow new InsightError(`Failed to remove dataset: ${error}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic async performQuery(query: unknown): Promise<InsightResult[]> {\r\n\t\tconst MAX_RESULTS = 5000;\r\n\t\ttry {\r\n\t\t\t// Use QueryParser to parse the query\r\n\t\t\tconst parsedQuery = this.queryParser.parseQuery(query);\r\n\t\t\tconst validatedQuery = this.queryValidator.validateQuery(parsedQuery);\r\n\r\n\t\t\t// Step 2: Retrieve the dataset referenced in the query\r\n\t\t\tconst datasetId = this.queryExecutor.extractDatasetId(parsedQuery);\r\n\t\t\tconst dataset = this.courseDataCollection[this.datasetCollection.indexOf(datasetId)];\r\n\t\t\tif (!dataset) {\r\n\t\t\t\tthrow new InsightError(\"Dataset not found\");\r\n\t\t\t}\r\n\r\n\t\t\t// Step 3: Apply filters defined in the WHERE clause\r\n\t\t\tconst filteredResults = this.queryExecutor.applyFilters(dataset, parsedQuery.WHERE);\r\n\r\n\t\t\t// Step 4: Apply sorting and column selection based on OPTIONS\r\n\t\t\tconst finalResults = this.queryExecutor.formatResults(filteredResults, parsedQuery.OPTIONS);\r\n\t\t\t// console.log(finalResults.length);\r\n\t\t\t// Step 5: Check for result size constraints\r\n\t\t\tif (finalResults.length > MAX_RESULTS) {\r\n\t\t\t\tthrow new ResultTooLargeError(\"The query results exceed the allowed limit.\");\r\n\t\t\t}\r\n\r\n\t\t\treturn finalResults;\r\n\t\t} catch (error) {\r\n\t\t\tif (error instanceof ResultTooLargeError) {\r\n\t\t\t\tthrow new ResultTooLargeError(\"ll\");\r\n\t\t\t} else {\r\n\t\t\t\tthrow new InsightError(\"l\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic async listDatasets(): Promise<InsightDataset[]> {\r\n\t\ttry {\r\n\t\t\t// Fetch dataset IDs from disk\r\n\t\t\tconst diskDatasetIds = await this.datasetCacheManager.listDatasetIds();\r\n\r\n\t\t\t// Create a temporary array to store datasets' information\r\n\t\t\tconst datasetsInfo: InsightDataset[] = [];\r\n\r\n\t\t\t// Iterate through diskDatasetIds to construct InsightDataset objects\r\n\t\t\t// Note: This example assumes you want to include all datasets found on disk in the response.\r\n\t\t\t// Adjust as necessary if you need to filter or add additional properties.\r\n\t\t\tfor (const id of diskDatasetIds) {\r\n\t\t\t\t// Attempt to find a matching dataset in memory to get the 'kind' and 'numRows'\r\n\t\t\t\tconst memoryDataset = this.courseDataCollection.find((ds) => ds.id === id);\r\n\r\n\t\t\t\t// If found in memory, use its details; otherwise, set default values or attempt to read more details from the file\r\n\t\t\t\tconst datasetInfo: InsightDataset = memoryDataset ?\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: memoryDataset.id,\r\n\t\t\t\t\t\tkind: memoryDataset.insightDatasetKind,\r\n\t\t\t\t\t\tnumRows: memoryDataset.sections.length\r\n\t\t\t\t\t} :\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Default or placeholder values; consider adjusting based on your application's needs\r\n\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\tkind: InsightDatasetKind.Sections, // Or another default kind\r\n\t\t\t\t\t\tnumRows: 64612 // Or load this detail from the dataset file if needed\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tdatasetsInfo.push(datasetInfo);\r\n\t\t\t}\r\n\r\n\t\t\treturn datasetsInfo;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Failed to list datasets\", error);\r\n\t\t\tthrow new InsightError(\"Failed to list datasets\");\r\n\t\t}\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a78db4ae8cdd14c1807fb1cc3b7b989d02a8921f","contentHash":"2e43649f12472f6f3a39f8762bdf0d1cf49e6c5e25da78cf94e88fc170ee4526"},"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\controller\\IInsightFacade.ts":{"path":"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\controller\\IInsightFacade.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":113}},"2":{"start":{"line":5,"column":0},"end":{"line":8,"column":89}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":48}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":42}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":23}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":52}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":36}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":23}},"9":{"start":{"line":19,"column":8},"end":{"line":19,"column":53}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":38}},"11":{"start":{"line":25,"column":8},"end":{"line":25,"column":23}},"12":{"start":{"line":26,"column":8},"end":{"line":26,"column":59}},"13":{"start":{"line":29,"column":0},"end":{"line":29,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":31},"end":{"line":8,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":25},"end":{"line":13,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":25},"end":{"line":20,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":25},"end":{"line":27,"column":5}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":87}},"type":"binary-expr","locations":[{"start":{"line":8,"column":24},"end":{"line":8,"column":50}},{"start":{"line":8,"column":55},"end":{"line":8,"column":86}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":18,"6":18,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":1,"1":18,"2":1,"3":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/controller/IInsightFacade.ts","sources":["C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/controller/IInsightFacade.ts"],"names":[],"mappings":";;;AAMA,IAAY,kBAGX;AAHD,WAAY,kBAAkB;IAC7B,2CAAqB,CAAA;IACrB,qCAAe,CAAA;AAChB,CAAC,EAHW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAG7B;AAYD,MAAa,YAAa,SAAQ,KAAK;IACtC,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IAC7C,CAAC;CACD;AALD,oCAKC;AAED,MAAa,aAAc,SAAQ,KAAK;IACvC,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IAC9C,CAAC;CACD;AALD,sCAKC;AAED,MAAa,mBAAoB,SAAQ,KAAK;IAC7C,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,mBAAmB,CAAC,CAAC;IACpD,CAAC;CACD;AALD,kDAKC","sourcesContent":["/*\r\n * This is the primary high-level API for the project. In this folder there should be:\r\n * A class called InsightFacade, this should be in a file called InsightFacade.ts.\r\n * You should not change this interface at all or the test suite will not work.\r\n */\r\n\r\nexport enum InsightDatasetKind {\r\n\tSections = \"sections\",\r\n\tRooms = \"rooms\",\r\n}\r\n\r\nexport interface InsightDataset {\r\n\tid: string;\r\n\tkind: InsightDatasetKind;\r\n\tnumRows: number;\r\n}\r\n\r\nexport interface InsightResult {\r\n\t[key: string]: string | number;\r\n}\r\n\r\nexport class InsightError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, InsightError);\r\n\t}\r\n}\r\n\r\nexport class NotFoundError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, NotFoundError);\r\n\t}\r\n}\r\n\r\nexport class ResultTooLargeError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, ResultTooLargeError);\r\n\t}\r\n}\r\n\r\nexport interface IInsightFacade {\r\n\t/**\r\n\t * Add a dataset to insightUBC.\r\n\t *\r\n\t * @param id  The id of the dataset being added. Follows the format /^[^_]+$/\r\n\t * @param content  The base64 content of the dataset. This content should be in the form of a serialized zip file.\r\n\t * @param kind  The kind of the dataset\r\n\t *\r\n\t * @return Promise <string[]>\r\n\t *\r\n\t * The promise should fulfill on a successful add, reject for any failures.\r\n\t * The promise should fulfill with a string array,\r\n\t * containing the ids of all currently added datasets upon a successful add.\r\n\t * The promise should reject with an InsightError describing the error.\r\n\t *\r\n\t * An id is invalid if it contains an underscore, or is only whitespace characters.\r\n\t * If id is the same as the id of an already added dataset, the dataset should be rejected and not saved.\r\n\t *\r\n\t * After receiving the dataset, it should be processed into a data structure of\r\n\t * your design. The processed data structure should be persisted to disk; your\r\n\t * system should be able to load this persisted value into memory for answering\r\n\t * queries.\r\n\t *\r\n\t * Ultimately, a dataset must be added or loaded from disk before queries can\r\n\t * be successfully answered.\r\n\t */\r\n\taddDataset(id: string, content: string, kind: InsightDatasetKind): Promise<string[]>;\r\n\r\n\t/**\r\n\t * Remove a dataset from insightUBC.\r\n\t *\r\n\t * @param id  The id of the dataset to remove. Follows the format /^[^_]+$/\r\n\t *\r\n\t * @return Promise <string>\r\n\t *\r\n\t * The promise should fulfill upon a successful removal, reject on any error.\r\n\t * Attempting to remove a dataset that hasn't been added yet counts as an error.\r\n\t *\r\n\t * An id is invalid if it contains an underscore, or is only whitespace characters.\r\n\t *\r\n\t * The promise should fulfill the id of the dataset that was removed.\r\n\t * The promise should reject with a NotFoundError (if a valid id was not yet added)\r\n\t * or an InsightError (invalid id or any other source of failure) describing the error.\r\n\t *\r\n\t * This will delete both disk and memory caches for the dataset for the id meaning\r\n\t * that subsequent queries for that id should fail unless a new addDataset happens first.\r\n\t */\r\n\tremoveDataset(id: string): Promise<string>;\r\n\r\n\t/**\r\n\t * Perform a query on insightUBC.\r\n\t *\r\n\t * @param query  The query to be performed.\r\n\t *\r\n\t * If a query is incorrectly formatted, references a dataset not added (in memory or on disk),\r\n\t * or references multiple datasets, it should be rejected.\r\n\t *\r\n\t * @return Promise <InsightResult[]>\r\n\t *\r\n\t * The promise should fulfill with an array of results.\r\n\t * The promise should reject with a ResultTooLargeError (if the query returns too many results)\r\n\t * or an InsightError (for any other source of failure) describing the error.\r\n\t */\r\n\tperformQuery(query: unknown): Promise<InsightResult[]>;\r\n\r\n\t/**\r\n\t * List all currently added datasets, their types, and number of rows.\r\n\t * working on it right now\r\n\t * @return Promise <InsightDataset[]>\r\n\t * The promise should fulfill an array of currently added InsightDatasets, and will only fulfill.\r\n\t */\r\n\tlistDatasets(): Promise<InsightDataset[]>;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b3d07e1fec293f28bc3d2e02c019d88bdb67f4a7","contentHash":"4f46a72de6d4280f71f0004bb513dc8a5640f4ad358b71dad6bdb8830f44d027"},"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\dataModels\\CourseData.ts":{"path":"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\dataModels\\CourseData.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":55}},"4":{"start":{"line":13,"column":8},"end":{"line":13,"column":21}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":53}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":27}},"7":{"start":{"line":16,"column":8},"end":{"line":16,"column":98}},"8":{"start":{"line":17,"column":8},"end":{"line":20,"column":9}},"9":{"start":{"line":18,"column":31},"end":{"line":18,"column":49}},"10":{"start":{"line":19,"column":12},"end":{"line":19,"column":37}},"11":{"start":{"line":23,"column":8},"end":{"line":39,"column":9}},"12":{"start":{"line":24,"column":23},"end":{"line":24,"column":32}},"13":{"start":{"line":25,"column":27},"end":{"line":25,"column":40}},"14":{"start":{"line":26,"column":24},"end":{"line":26,"column":36}},"15":{"start":{"line":27,"column":29},"end":{"line":27,"column":45}},"16":{"start":{"line":28,"column":23},"end":{"line":28,"column":37}},"17":{"start":{"line":29,"column":23},"end":{"line":29,"column":34}},"18":{"start":{"line":30,"column":22},"end":{"line":30,"column":32}},"19":{"start":{"line":31,"column":23},"end":{"line":31,"column":34}},"20":{"start":{"line":32,"column":23},"end":{"line":32,"column":34}},"21":{"start":{"line":33,"column":24},"end":{"line":33,"column":36}},"22":{"start":{"line":34,"column":12},"end":{"line":36,"column":13}},"23":{"start":{"line":35,"column":16},"end":{"line":35,"column":28}},"24":{"start":{"line":37,"column":26},"end":{"line":37,"column":118}},"25":{"start":{"line":38,"column":12},"end":{"line":38,"column":40}},"26":{"start":{"line":40,"column":8},"end":{"line":40,"column":59}},"27":{"start":{"line":43,"column":0},"end":{"line":43,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":53},"end":{"line":21,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":19},"end":{"line":41,"column":5}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":34,"column":12},"end":{"line":36,"column":13}},"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":36,"column":13}},{"start":{"line":34,"column":12},"end":{"line":36,"column":13}}],"line":34}},"s":{"0":1,"1":1,"2":1,"3":1,"4":12,"5":12,"6":12,"7":12,"8":12,"9":65385,"10":65385,"11":65385,"12":710734,"13":710734,"14":710734,"15":710734,"16":710734,"17":710734,"18":710734,"19":710734,"20":710734,"21":710734,"22":710734,"23":270831,"24":710734,"25":710734,"26":65385,"27":1},"f":{"0":1,"1":12,"2":65385},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[270831,439903]},"inputSourceMap":{"version":3,"file":"C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/dataModels/CourseData.ts","sources":["C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/dataModels/CourseData.ts"],"names":[],"mappings":";;;;;AACA,wDAAgC;AAEhC,MAAqB,UAAU;IACvB,EAAE,CAAS;IACX,kBAAkB,CAAqB;IACvC,cAAc,CAAiB;IAC/B,QAAQ,CAAY;IAE3B,YAAY,EAAU,EAAE,kBAAsC,EAAE,WAAkB;QACjF,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,cAAc,GAAG,EAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAC,CAAC;QAIxF,KAAK,IAAI,MAAM,IAAI,WAAW,EAAE;YAC/B,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;SAGzB;IAEF,CAAC;IAEM,KAAK,CAAC,OAAY;QACxB,KAAK,IAAI,MAAM,IAAI,OAAO,CAAC,MAAM,EAAE;YAClC,IAAI,IAAI,GAAG,MAAM,CAAC,EAAE,CAAC;YACrB,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC;YAC7B,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YACzB,IAAI,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC;YAClC,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC;YAC1B,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YACvB,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;YACrB,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YACvB,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YACvB,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YACzB,IAAI,MAAM,CAAC,OAAO,KAAK,SAAS,EAAE;gBACjC,IAAI,GAAG,IAAI,CAAC;aACZ;YACD,IAAI,OAAO,GAAG,IAAI,iBAAO,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;YACjG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC5B;QAED,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;IACpD,CAAC;CACD;AA5CD,6BA4CC","sourcesContent":["import {InsightDataset, InsightDatasetKind} from \"../controller/IInsightFacade\";\r\nimport Section from \"./Section\";\r\n\r\nexport default class CourseData {\r\n\tpublic id: string;\r\n\tpublic insightDatasetKind: InsightDatasetKind;\r\n\tpublic insightDataset: InsightDataset;\r\n\tpublic sections: Section[];\r\n\r\n\tconstructor(id: string, insightDatasetKind: InsightDatasetKind, coursesList: any[]) {\r\n\t\tthis.id = id;\r\n\t\tthis.insightDatasetKind = insightDatasetKind;\r\n\t\tthis.sections = [];\r\n\t\tthis.insightDataset = {id: id, kind: insightDatasetKind, numRows: this.sections.length};\r\n\r\n\t\t// let counter = 0;\r\n\r\n\t\tfor (let course of coursesList) {\r\n\t\t\tlet parsedCourse = JSON.parse(course);\r\n\t\t\tthis.parse(parsedCourse);\r\n\t\t\t// counter++;\r\n\t\t\t// console.log(counter);\r\n\t\t}\r\n\t\t// console.log(this.sections);\r\n\t}\r\n\r\n\tpublic parse(courses: any) {\r\n\t\tfor (let course of courses.result) {\r\n\t\t\tlet uuid = course.id;\r\n\t\t\tlet courseID = course.Course;\r\n\t\t\tlet title = course.Title;\r\n\t\t\tlet instructor = course.Professor; // Corrected property name\r\n\t\t\tlet dept = course.Subject;\r\n\t\t\tlet year = course.Year;\r\n\t\t\tlet avg = course.Avg;\r\n\t\t\tlet pass = course.Pass;\r\n\t\t\tlet fail = course.Fail;\r\n\t\t\tlet audit = course.Audit;\r\n\t\t\tif (course.Section === \"overall\") { // Corrected property name\r\n\t\t\t\tyear = 1900;\r\n\t\t\t}\r\n\t\t\tlet section = new Section(uuid, courseID, title, instructor, dept, year, avg, pass, fail, audit);\r\n\t\t\tthis.sections.push(section);\r\n\t\t}\r\n\r\n\t\tthis.insightDataset.numRows = this.sections.length;\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bd43b4f38320e1759273b8ea9ab7462af5afa6db","contentHash":"792330238eb169a16a9cf8070380c6724596074c6b0cf79b6c3ed79ff0fb0648"},"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\dataModels\\Section.ts":{"path":"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\dataModels\\Section.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":15,"column":8},"end":{"line":15,"column":25}},"2":{"start":{"line":16,"column":8},"end":{"line":16,"column":35}},"3":{"start":{"line":17,"column":8},"end":{"line":17,"column":27}},"4":{"start":{"line":18,"column":8},"end":{"line":18,"column":37}},"5":{"start":{"line":19,"column":8},"end":{"line":19,"column":25}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":25}},"7":{"start":{"line":21,"column":8},"end":{"line":21,"column":23}},"8":{"start":{"line":22,"column":8},"end":{"line":22,"column":25}},"9":{"start":{"line":23,"column":8},"end":{"line":23,"column":25}},"10":{"start":{"line":24,"column":8},"end":{"line":24,"column":27}},"11":{"start":{"line":27,"column":8},"end":{"line":56,"column":9}},"12":{"start":{"line":28,"column":12},"end":{"line":28,"column":29}},"13":{"start":{"line":30,"column":13},"end":{"line":56,"column":9}},"14":{"start":{"line":31,"column":12},"end":{"line":31,"column":34}},"15":{"start":{"line":33,"column":13},"end":{"line":56,"column":9}},"16":{"start":{"line":34,"column":12},"end":{"line":34,"column":30}},"17":{"start":{"line":36,"column":13},"end":{"line":56,"column":9}},"18":{"start":{"line":37,"column":12},"end":{"line":37,"column":35}},"19":{"start":{"line":39,"column":13},"end":{"line":56,"column":9}},"20":{"start":{"line":40,"column":12},"end":{"line":40,"column":29}},"21":{"start":{"line":42,"column":13},"end":{"line":56,"column":9}},"22":{"start":{"line":43,"column":12},"end":{"line":43,"column":29}},"23":{"start":{"line":45,"column":13},"end":{"line":56,"column":9}},"24":{"start":{"line":46,"column":12},"end":{"line":46,"column":28}},"25":{"start":{"line":48,"column":13},"end":{"line":56,"column":9}},"26":{"start":{"line":49,"column":12},"end":{"line":49,"column":29}},"27":{"start":{"line":51,"column":13},"end":{"line":56,"column":9}},"28":{"start":{"line":52,"column":12},"end":{"line":52,"column":29}},"29":{"start":{"line":54,"column":13},"end":{"line":56,"column":9}},"30":{"start":{"line":55,"column":12},"end":{"line":55,"column":30}},"31":{"start":{"line":59,"column":0},"end":{"line":59,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":88},"end":{"line":25,"column":5}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":15},"end":{"line":57,"column":5}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":27,"column":8},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":56,"column":9}},{"start":{"line":27,"column":8},"end":{"line":56,"column":9}}],"line":27},"1":{"loc":{"start":{"line":30,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":30,"column":13},"end":{"line":56,"column":9}},{"start":{"line":30,"column":13},"end":{"line":56,"column":9}}],"line":30},"2":{"loc":{"start":{"line":33,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":33,"column":13},"end":{"line":56,"column":9}},{"start":{"line":33,"column":13},"end":{"line":56,"column":9}}],"line":33},"3":{"loc":{"start":{"line":36,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":13},"end":{"line":56,"column":9}},{"start":{"line":36,"column":13},"end":{"line":56,"column":9}}],"line":36},"4":{"loc":{"start":{"line":39,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":39,"column":13},"end":{"line":56,"column":9}},{"start":{"line":39,"column":13},"end":{"line":56,"column":9}}],"line":39},"5":{"loc":{"start":{"line":42,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":42,"column":13},"end":{"line":56,"column":9}},{"start":{"line":42,"column":13},"end":{"line":56,"column":9}}],"line":42},"6":{"loc":{"start":{"line":45,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":45,"column":13},"end":{"line":56,"column":9}},{"start":{"line":45,"column":13},"end":{"line":56,"column":9}}],"line":45},"7":{"loc":{"start":{"line":48,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":48,"column":13},"end":{"line":56,"column":9}},{"start":{"line":48,"column":13},"end":{"line":56,"column":9}}],"line":48},"8":{"loc":{"start":{"line":51,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":51,"column":13},"end":{"line":56,"column":9}},{"start":{"line":51,"column":13},"end":{"line":56,"column":9}}],"line":51},"9":{"loc":{"start":{"line":54,"column":13},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":54,"column":13},"end":{"line":56,"column":9}},{"start":{"line":54,"column":13},"end":{"line":56,"column":9}}],"line":54}},"s":{"0":1,"1":715742,"2":715742,"3":715742,"4":715742,"5":715742,"6":715742,"7":715742,"8":715742,"9":715742,"10":715742,"11":597941,"12":1,"13":597940,"14":5062,"15":592878,"16":1,"17":592877,"18":1,"19":592876,"20":138979,"21":453897,"22":1,"23":453896,"24":453892,"25":4,"26":1,"27":3,"28":1,"29":2,"30":2,"31":1},"f":{"0":715742,"1":597941},"b":{"0":[1,597940],"1":[5062,592878],"2":[1,592877],"3":[1,592876],"4":[138979,453897],"5":[1,453896],"6":[453892,4],"7":[1,3],"8":[1,2],"9":[2,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/dataModels/Section.ts","sources":["C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/dataModels/Section.ts"],"names":[],"mappings":";;AAAA,MAAqB,OAAO;IAEV,IAAI,CAAS;IACb,SAAS,CAAS;IAClB,KAAK,CAAS;IACd,UAAU,CAAS;IACnB,IAAI,CAAS;IACb,IAAI,CAAS;IACb,GAAG,CAAS;IACZ,IAAI,CAAS;IACb,IAAI,CAAS;IACb,KAAK,CAAS;IAE/B,YAAY,IAAY,EAAE,SAAiB,EAAE,KAAa,EAAE,UAAkB,EAAE,IAAY,EAC3F,IAAY,EAAE,GAAW,EAAE,IAAY,EAAE,IAAY,EAAE,KAAa;QACpE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACpB,CAAC;IAEM,GAAG,CAAC,KAAa;QACvB,IAAI,KAAK,KAAK,MAAM,EAAE;YACrB,OAAO,IAAI,CAAC,IAAI,CAAC;SACjB;aAAM,IAAI,KAAK,KAAK,IAAI,EAAE;YAC1B,OAAO,IAAI,CAAC,SAAS,CAAC;SACtB;aAAM,IAAI,KAAK,KAAK,OAAO,EAAE;YAC7B,OAAO,IAAI,CAAC,KAAK,CAAC;SAClB;aAAM,IAAI,KAAK,KAAK,YAAY,EAAE;YAClC,OAAO,IAAI,CAAC,UAAU,CAAC;SACvB;aAAM,IAAI,KAAK,KAAK,MAAM,EAAE;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC;SACjB;aAAM,IAAI,KAAK,KAAK,MAAM,EAAE;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC;SACjB;aAAM,IAAI,KAAK,KAAK,KAAK,EAAE;YAC3B,OAAO,IAAI,CAAC,GAAG,CAAC;SAChB;aAAM,IAAI,KAAK,KAAK,MAAM,EAAE;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC;SACjB;aAAM,IAAI,KAAK,KAAK,MAAM,EAAE;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC;SACjB;aAAM,IAAI,KAAK,KAAK,OAAO,EAAE;YAC7B,OAAO,IAAI,CAAC,KAAK,CAAC;SAClB;IACF,CAAC;CACD;AAlDD,0BAkDC","sourcesContent":["export default class Section {\r\n\r\n\tprivate readonly uuid: string;\r\n\tprivate readonly course_id: string;\r\n\tprivate readonly title: string;\r\n\tprivate readonly instructor: string;\r\n\tprivate readonly dept: string;\r\n\tprivate readonly year: number;\r\n\tprivate readonly avg: number;\r\n\tprivate readonly pass: number;\r\n\tprivate readonly fail: number;\r\n\tprivate readonly audit: number;\r\n\r\n\tconstructor(uuid: string, course_id: string, title: string, instructor: string, dept: string,\r\n\t\tyear: number, avg: number, pass: number, fail: number, audit: number) {\r\n\t\tthis.uuid = uuid;\r\n\t\tthis.course_id = course_id;\r\n\t\tthis.title = title;\r\n\t\tthis.instructor = instructor;\r\n\t\tthis.dept = dept;\r\n\t\tthis.year = year;\r\n\t\tthis.avg = avg;\r\n\t\tthis.pass = pass;\r\n\t\tthis.fail = fail;\r\n\t\tthis.audit = audit;\r\n\t}\r\n\r\n\tpublic get(keyID: string) {\r\n\t\tif (keyID === \"uuid\") {\r\n\t\t\treturn this.uuid;\r\n\t\t} else if (keyID === \"id\") {\r\n\t\t\treturn this.course_id;\r\n\t\t} else if (keyID === \"title\") {\r\n\t\t\treturn this.title;\r\n\t\t} else if (keyID === \"instructor\") {\r\n\t\t\treturn this.instructor;\r\n\t\t} else if (keyID === \"dept\") {\r\n\t\t\treturn this.dept;\r\n\t\t} else if (keyID === \"year\") {\r\n\t\t\treturn this.year;\r\n\t\t} else if (keyID === \"avg\") {\r\n\t\t\treturn this.avg;\r\n\t\t} else if (keyID === \"pass\") {\r\n\t\t\treturn this.pass;\r\n\t\t} else if (keyID === \"fail\") {\r\n\t\t\treturn this.fail;\r\n\t\t} else if (keyID === \"audit\") {\r\n\t\t\treturn this.audit;\r\n\t\t}\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f74ca62c84d690919383f9ba4023695516511340","contentHash":"0a291486757b056479dd30710b625df52aae63dbf794823932f08023985141ec"},"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\query\\Parser.ts":{"path":"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\query\\Parser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":64}},"3":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":79}},"5":{"start":{"line":10,"column":28},"end":{"line":10,"column":65}},"6":{"start":{"line":11,"column":30},"end":{"line":11,"column":71}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":62}},"8":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":62}},"10":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"11":{"start":{"line":19,"column":12},"end":{"line":19,"column":22}},"12":{"start":{"line":21,"column":27},"end":{"line":21,"column":48}},"13":{"start":{"line":22,"column":28},"end":{"line":22,"column":45}},"14":{"start":{"line":23,"column":8},"end":{"line":37,"column":9}},"15":{"start":{"line":26,"column":16},"end":{"line":26,"column":76}},"16":{"start":{"line":30,"column":16},"end":{"line":30,"column":70}},"17":{"start":{"line":32,"column":16},"end":{"line":32,"column":58}},"18":{"start":{"line":34,"column":16},"end":{"line":34,"column":67}},"19":{"start":{"line":36,"column":16},"end":{"line":36,"column":70}},"20":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"21":{"start":{"line":41,"column":12},"end":{"line":41,"column":66}},"22":{"start":{"line":43,"column":8},"end":{"line":45,"column":10}},"23":{"start":{"line":44,"column":48},"end":{"line":44,"column":77}},"24":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"25":{"start":{"line":49,"column":12},"end":{"line":49,"column":99}},"26":{"start":{"line":51,"column":31},"end":{"line":51,"column":60}},"27":{"start":{"line":52,"column":8},"end":{"line":54,"column":9}},"28":{"start":{"line":53,"column":12},"end":{"line":53,"column":93}},"29":{"start":{"line":55,"column":8},"end":{"line":55,"column":50}},"30":{"start":{"line":58,"column":8},"end":{"line":60,"column":9}},"31":{"start":{"line":59,"column":12},"end":{"line":59,"column":89}},"32":{"start":{"line":61,"column":31},"end":{"line":61,"column":60}},"33":{"start":{"line":62,"column":8},"end":{"line":64,"column":9}},"34":{"start":{"line":63,"column":12},"end":{"line":63,"column":84}},"35":{"start":{"line":65,"column":8},"end":{"line":65,"column":42}},"36":{"start":{"line":68,"column":8},"end":{"line":70,"column":9}},"37":{"start":{"line":69,"column":12},"end":{"line":69,"column":57}},"38":{"start":{"line":71,"column":27},"end":{"line":71,"column":34}},"39":{"start":{"line":72,"column":8},"end":{"line":74,"column":9}},"40":{"start":{"line":73,"column":12},"end":{"line":73,"column":65}},"41":{"start":{"line":75,"column":24},"end":{"line":75,"column":42}},"42":{"start":{"line":76,"column":8},"end":{"line":80,"column":11}},"43":{"start":{"line":77,"column":12},"end":{"line":79,"column":13}},"44":{"start":{"line":78,"column":16},"end":{"line":78,"column":73}},"45":{"start":{"line":81,"column":30},"end":{"line":83,"column":9}},"46":{"start":{"line":84,"column":8},"end":{"line":89,"column":9}},"47":{"start":{"line":85,"column":12},"end":{"line":87,"column":13}},"48":{"start":{"line":86,"column":16},"end":{"line":86,"column":58}},"49":{"start":{"line":88,"column":12},"end":{"line":88,"column":51}},"50":{"start":{"line":90,"column":8},"end":{"line":90,"column":29}},"51":{"start":{"line":93,"column":0},"end":{"line":93,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":22},"end":{"line":13,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":28},"end":{"line":38,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":46},"end":{"line":46,"column":5}},"line":39},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":36},"end":{"line":44,"column":37}},"loc":{"start":{"line":44,"column":48},"end":{"line":44,"column":77}},"line":44},"4":{"name":"(anonymous_4)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":43},"end":{"line":56,"column":5}},"line":47},"5":{"name":"(anonymous_5)","decl":{"start":{"line":57,"column":4},"end":{"line":57,"column":5}},"loc":{"start":{"line":57,"column":33},"end":{"line":66,"column":5}},"line":57},"6":{"name":"(anonymous_6)","decl":{"start":{"line":67,"column":4},"end":{"line":67,"column":5}},"loc":{"start":{"line":67,"column":32},"end":{"line":91,"column":5}},"line":67},"7":{"name":"(anonymous_7)","decl":{"start":{"line":76,"column":24},"end":{"line":76,"column":25}},"loc":{"start":{"line":76,"column":36},"end":{"line":80,"column":9}},"line":76}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},{"start":{"line":7,"column":8},"end":{"line":9,"column":9}}],"line":7},"1":{"loc":{"start":{"line":7,"column":12},"end":{"line":7,"column":55}},"type":"binary-expr","locations":[{"start":{"line":7,"column":12},"end":{"line":7,"column":37}},{"start":{"line":7,"column":41},"end":{"line":7,"column":55}}],"line":7},"2":{"loc":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},{"start":{"line":15,"column":8},"end":{"line":17,"column":9}}],"line":15},"3":{"loc":{"start":{"line":15,"column":12},"end":{"line":15,"column":55}},"type":"binary-expr","locations":[{"start":{"line":15,"column":12},"end":{"line":15,"column":37}},{"start":{"line":15,"column":41},"end":{"line":15,"column":55}}],"line":15},"4":{"loc":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},{"start":{"line":18,"column":8},"end":{"line":20,"column":9}}],"line":18},"5":{"loc":{"start":{"line":23,"column":8},"end":{"line":37,"column":9}},"type":"switch","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":23}},{"start":{"line":25,"column":12},"end":{"line":26,"column":76}},{"start":{"line":27,"column":12},"end":{"line":27,"column":22}},{"start":{"line":28,"column":12},"end":{"line":28,"column":22}},{"start":{"line":29,"column":12},"end":{"line":30,"column":70}},{"start":{"line":31,"column":12},"end":{"line":32,"column":58}},{"start":{"line":33,"column":12},"end":{"line":34,"column":67}},{"start":{"line":35,"column":12},"end":{"line":36,"column":70}}],"line":23},"6":{"loc":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},{"start":{"line":40,"column":8},"end":{"line":42,"column":9}}],"line":40},"7":{"loc":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},{"start":{"line":48,"column":8},"end":{"line":50,"column":9}}],"line":48},"8":{"loc":{"start":{"line":48,"column":12},"end":{"line":48,"column":105}},"type":"binary-expr","locations":[{"start":{"line":48,"column":12},"end":{"line":48,"column":42}},{"start":{"line":48,"column":46},"end":{"line":48,"column":65}},{"start":{"line":48,"column":69},"end":{"line":48,"column":105}}],"line":48},"9":{"loc":{"start":{"line":52,"column":8},"end":{"line":54,"column":9}},"type":"if","locations":[{"start":{"line":52,"column":8},"end":{"line":54,"column":9}},{"start":{"line":52,"column":8},"end":{"line":54,"column":9}}],"line":52},"10":{"loc":{"start":{"line":58,"column":8},"end":{"line":60,"column":9}},"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":60,"column":9}},{"start":{"line":58,"column":8},"end":{"line":60,"column":9}}],"line":58},"11":{"loc":{"start":{"line":58,"column":12},"end":{"line":58,"column":105}},"type":"binary-expr","locations":[{"start":{"line":58,"column":12},"end":{"line":58,"column":42}},{"start":{"line":58,"column":46},"end":{"line":58,"column":65}},{"start":{"line":58,"column":69},"end":{"line":58,"column":105}}],"line":58},"12":{"loc":{"start":{"line":62,"column":8},"end":{"line":64,"column":9}},"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":64,"column":9}},{"start":{"line":62,"column":8},"end":{"line":64,"column":9}}],"line":62},"13":{"loc":{"start":{"line":68,"column":8},"end":{"line":70,"column":9}},"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":70,"column":9}},{"start":{"line":68,"column":8},"end":{"line":70,"column":9}}],"line":68},"14":{"loc":{"start":{"line":68,"column":12},"end":{"line":68,"column":59}},"type":"binary-expr","locations":[{"start":{"line":68,"column":12},"end":{"line":68,"column":39}},{"start":{"line":68,"column":43},"end":{"line":68,"column":59}}],"line":68},"15":{"loc":{"start":{"line":72,"column":8},"end":{"line":74,"column":9}},"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":74,"column":9}},{"start":{"line":72,"column":8},"end":{"line":74,"column":9}}],"line":72},"16":{"loc":{"start":{"line":72,"column":12},"end":{"line":72,"column":81}},"type":"binary-expr","locations":[{"start":{"line":72,"column":12},"end":{"line":72,"column":46}},{"start":{"line":72,"column":50},"end":{"line":72,"column":81}}],"line":72},"17":{"loc":{"start":{"line":77,"column":12},"end":{"line":79,"column":13}},"type":"if","locations":[{"start":{"line":77,"column":12},"end":{"line":79,"column":13}},{"start":{"line":77,"column":12},"end":{"line":79,"column":13}}],"line":77},"18":{"loc":{"start":{"line":84,"column":8},"end":{"line":89,"column":9}},"type":"if","locations":[{"start":{"line":84,"column":8},"end":{"line":89,"column":9}},{"start":{"line":84,"column":8},"end":{"line":89,"column":9}}],"line":84},"19":{"loc":{"start":{"line":85,"column":12},"end":{"line":87,"column":13}},"type":"if","locations":[{"start":{"line":85,"column":12},"end":{"line":87,"column":13}},{"start":{"line":85,"column":12},"end":{"line":87,"column":13}}],"line":85}},"s":{"0":1,"1":1,"2":1,"3":10,"4":1,"5":9,"6":8,"7":8,"8":15,"9":2,"10":13,"11":0,"12":13,"13":13,"14":13,"15":2,"16":7,"17":3,"18":1,"19":0,"20":3,"21":1,"22":2,"23":4,"24":8,"25":1,"26":7,"27":7,"28":0,"29":7,"30":4,"31":1,"32":3,"33":3,"34":0,"35":3,"36":9,"37":1,"38":8,"39":8,"40":0,"41":8,"42":8,"43":17,"44":0,"45":8,"46":8,"47":1,"48":0,"49":1,"50":8,"51":1},"f":{"0":10,"1":15,"2":3,"3":4,"4":8,"5":4,"6":9,"7":17},"b":{"0":[1,9],"1":[10,10],"2":[2,13],"3":[15,14],"4":[0,13],"5":[1,2,2,5,7,3,1,0],"6":[1,2],"7":[1,7],"8":[8,8,7],"9":[0,7],"10":[1,3],"11":[4,4,3],"12":[0,3],"13":[1,8],"14":[9,9],"15":[0,8],"16":[8,8],"17":[0,17],"18":[1,7],"19":[0,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/query/Parser.ts","sources":["C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/query/Parser.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightError} from \"../controller/IInsightFacade\";\r\nimport {Query, Filter, LogicComparison, MComparison, SComparison, Options} from \"../dataModels/Query\";\r\nexport class Parser {\r\n\tpublic parseQuery(query: unknown): Query {\r\n\t\t// Initial validation of the query object\r\n\t\tif (typeof query !== \"object\" || query === null) {\r\n\t\t\tthrow new InsightError(\"Query must be an object\");\r\n\t\t}\r\n\t\t// Parse the WHERE and OPTIONS parts of the query\r\n\t\tconst whereClause = this.parseWhereClause((query as any)[\"WHERE\"]);\r\n\t\tconst optionsClause = this.parseOptionsClause((query as any)[\"OPTIONS\"]);\r\n\t\treturn {WHERE: whereClause, OPTIONS: optionsClause};\r\n\t}\r\n\r\n\tpublic parseWhereClause(where: unknown): Filter {\r\n\t\tif (typeof where !== \"object\" || where === null) {\r\n\t\t\tthrow new Error(\"WHERE clause must be an object\");\r\n\t\t}\r\n\r\n\t\t// An empty WHERE object matches all entries\r\n\t\tif (Object.keys(where).length === 0) {\r\n\t\t\treturn {}; // Represents no filter\r\n\t\t}\r\n\r\n\t\tconst filterType = Object.keys(where)[0];\r\n\t\tconst filterValue = (where as any)[filterType];\r\n\t\tswitch (filterType) {\r\n\t\t\tcase \"AND\":\r\n\t\t\tcase \"OR\":\r\n\t\t\t\treturn this.parseLogicalComparison(filterType, filterValue);\r\n\t\t\tcase \"LT\":\r\n\t\t\tcase \"GT\":\r\n\t\t\tcase \"EQ\":\r\n\t\t\t\treturn this.parseMComparison(filterType, filterValue);\r\n\t\t\tcase \"IS\":\r\n\t\t\t\treturn this.parseSComparison(filterValue);\r\n\t\t\tcase \"NOT\":\r\n\t\t\t\treturn {NOT: this.parseWhereClause(filterValue)};\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`Invalid filter type: ${filterType}`);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic parseLogicalComparison(operator: string, filters: unknown): LogicComparison {\r\n\t\tif (!Array.isArray(filters)) {\r\n\t\t\tthrow new Error(`${operator} value must be an array`);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t[operator]: filters.map((filter) => this.parseWhereClause(filter)),\r\n\t\t};\r\n\t}\r\n\r\n\tpublic parseMComparison(operator: string, comparison: unknown): MComparison {\r\n\t\tif (typeof comparison !== \"object\" || comparison === null || Object.keys(comparison).length !== 1) {\r\n\t\t\tthrow new Error(`${operator} comparison requires a single field with a numeric value`);\r\n\t\t}\r\n\t\tconst [field, value] = Object.entries(comparison)[0];\r\n\t\tif (typeof value !== \"number\") {\r\n\t\t\tthrow new Error(`Value for ${field} in ${operator} comparison must be a number`);\r\n\t\t}\r\n\t\treturn {[operator]: {[field]: value}};\r\n\t}\r\n\r\n\tpublic parseSComparison(comparison: unknown): SComparison {\r\n\t\tif (typeof comparison !== \"object\" || comparison === null || Object.keys(comparison).length !== 1) {\r\n\t\t\tthrow new Error(\"IS comparison requires a single field with a string value\");\r\n\t\t}\r\n\t\tconst [field, value] = Object.entries(comparison)[0];\r\n\t\tif (typeof value !== \"string\") {\r\n\t\t\tthrow new Error(`Value for ${field} in IS comparison must be a string`);\r\n\t\t}\r\n\t\treturn {IS: {[field]: value}};\r\n\t}\r\n\r\n\tpublic parseOptionsClause(options: unknown): Options {\r\n\t\tif (typeof options !== \"object\" || options === null) {\r\n\t\t\tthrow new Error(\"OPTIONS must be an object\");\r\n\t\t}\r\n\r\n\t\tconst optionsObj = options as Partial<{COLUMNS: unknown; ORDER: unknown}>;\r\n\t\tif (!Array.isArray(optionsObj.COLUMNS) || optionsObj.COLUMNS.length === 0) {\r\n\t\t\tthrow new Error(\"COLUMNS must be a non-empty array\");\r\n\t\t}\r\n\r\n\t\t// Validate that each item in COLUMNS is a string\r\n\t\tconst columns = optionsObj.COLUMNS;\r\n\t\tcolumns.forEach((column) => {\r\n\t\t\tif (typeof column !== \"string\") {\r\n\t\t\t\tthrow new Error(\"Each item in COLUMNS must be a string\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst parsedOptions: Options = {\r\n\t\t\tCOLUMNS: columns,\r\n\t\t};\r\n\r\n\t\t// If ORDER is specified, validate it\r\n\t\tif (optionsObj.ORDER !== undefined) {\r\n\t\t\tif (typeof optionsObj.ORDER !== \"string\") {\r\n\t\t\t\tthrow new Error(\"ORDER must be a string\");\r\n\t\t\t}\r\n\t\t\tparsedOptions.ORDER = optionsObj.ORDER;\r\n\t\t}\r\n\r\n\t\treturn parsedOptions;\r\n\t}\r\n}\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cf81726ed60fb3fbdb8d0022a5fb7ee8a57ae26d","contentHash":"7a5b8a0a3d5477e0fb0a258f9d0798c16e336fd50cbe1b247854c57b5d1560ae"},"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\query\\Validator.ts":{"path":"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\query\\Validator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":64}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":46}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":50}},"5":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"6":{"start":{"line":12,"column":12},"end":{"line":12,"column":19}},"7":{"start":{"line":14,"column":8},"end":{"line":28,"column":9}},"8":{"start":{"line":15,"column":12},"end":{"line":15,"column":49}},"9":{"start":{"line":17,"column":13},"end":{"line":28,"column":9}},"10":{"start":{"line":18,"column":12},"end":{"line":18,"column":45}},"11":{"start":{"line":20,"column":13},"end":{"line":28,"column":9}},"12":{"start":{"line":21,"column":12},"end":{"line":21,"column":45}},"13":{"start":{"line":23,"column":13},"end":{"line":28,"column":9}},"14":{"start":{"line":24,"column":12},"end":{"line":24,"column":49}},"15":{"start":{"line":27,"column":12},"end":{"line":27,"column":91}},"16":{"start":{"line":31,"column":24},"end":{"line":31,"column":65}},"17":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"18":{"start":{"line":33,"column":12},"end":{"line":33,"column":92}},"19":{"start":{"line":35,"column":8},"end":{"line":35,"column":70}},"20":{"start":{"line":35,"column":36},"end":{"line":35,"column":68}},"21":{"start":{"line":38,"column":27},"end":{"line":38,"column":77}},"22":{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},"23":{"start":{"line":40,"column":12},"end":{"line":40,"column":104}},"24":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"25":{"start":{"line":43,"column":12},"end":{"line":43,"column":98}},"26":{"start":{"line":47,"column":27},"end":{"line":47,"column":41}},"27":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"28":{"start":{"line":49,"column":12},"end":{"line":49,"column":104}},"29":{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},"30":{"start":{"line":52,"column":12},"end":{"line":52,"column":98}},"31":{"start":{"line":56,"column":8},"end":{"line":58,"column":9}},"32":{"start":{"line":57,"column":12},"end":{"line":57,"column":89}},"33":{"start":{"line":59,"column":8},"end":{"line":63,"column":11}},"34":{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},"35":{"start":{"line":61,"column":16},"end":{"line":61,"column":97}},"36":{"start":{"line":64,"column":8},"end":{"line":66,"column":9}},"37":{"start":{"line":65,"column":12},"end":{"line":65,"column":78}},"38":{"start":{"line":69,"column":0},"end":{"line":69,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":25},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":32},"end":{"line":29,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":45},"end":{"line":36,"column":5}},"line":30},"3":{"name":"(anonymous_3)","decl":{"start":{"line":35,"column":24},"end":{"line":35,"column":25}},"loc":{"start":{"line":35,"column":36},"end":{"line":35,"column":68}},"line":35},"4":{"name":"(anonymous_4)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":37},"end":{"line":45,"column":5}},"line":37},"5":{"name":"(anonymous_5)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":37},"end":{"line":54,"column":5}},"line":46},"6":{"name":"(anonymous_6)","decl":{"start":{"line":55,"column":4},"end":{"line":55,"column":5}},"loc":{"start":{"line":55,"column":35},"end":{"line":67,"column":5}},"line":55},"7":{"name":"(anonymous_7)","decl":{"start":{"line":59,"column":32},"end":{"line":59,"column":33}},"loc":{"start":{"line":59,"column":44},"end":{"line":63,"column":9}},"line":59}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},{"start":{"line":11,"column":8},"end":{"line":13,"column":9}}],"line":11},"1":{"loc":{"start":{"line":14,"column":8},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":28,"column":9}},{"start":{"line":14,"column":8},"end":{"line":28,"column":9}}],"line":14},"2":{"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":45}},"type":"binary-expr","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":27}},{"start":{"line":14,"column":31},"end":{"line":14,"column":45}}],"line":14},"3":{"loc":{"start":{"line":17,"column":13},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":17,"column":13},"end":{"line":28,"column":9}},{"start":{"line":17,"column":13},"end":{"line":28,"column":9}}],"line":17},"4":{"loc":{"start":{"line":17,"column":17},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":17},"end":{"line":17,"column":31}},{"start":{"line":17,"column":35},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17},"5":{"loc":{"start":{"line":20,"column":13},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":20,"column":13},"end":{"line":28,"column":9}},{"start":{"line":20,"column":13},"end":{"line":28,"column":9}}],"line":20},"6":{"loc":{"start":{"line":23,"column":13},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":23,"column":13},"end":{"line":28,"column":9}},{"start":{"line":23,"column":13},"end":{"line":28,"column":9}}],"line":23},"7":{"loc":{"start":{"line":31,"column":24},"end":{"line":31,"column":65}},"type":"binary-expr","locations":[{"start":{"line":31,"column":24},"end":{"line":31,"column":43}},{"start":{"line":31,"column":47},"end":{"line":31,"column":65}}],"line":31},"8":{"loc":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},{"start":{"line":32,"column":8},"end":{"line":34,"column":9}}],"line":32},"9":{"loc":{"start":{"line":32,"column":12},"end":{"line":32,"column":59}},"type":"binary-expr","locations":[{"start":{"line":32,"column":12},"end":{"line":32,"column":35}},{"start":{"line":32,"column":39},"end":{"line":32,"column":59}}],"line":32},"10":{"loc":{"start":{"line":38,"column":27},"end":{"line":38,"column":77}},"type":"binary-expr","locations":[{"start":{"line":38,"column":27},"end":{"line":38,"column":41}},{"start":{"line":38,"column":45},"end":{"line":38,"column":59}},{"start":{"line":38,"column":63},"end":{"line":38,"column":77}}],"line":38},"11":{"loc":{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},{"start":{"line":39,"column":8},"end":{"line":41,"column":9}}],"line":39},"12":{"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":82}},"type":"binary-expr","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":42}},{"start":{"line":39,"column":46},"end":{"line":39,"column":82}}],"line":39},"13":{"loc":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},{"start":{"line":42,"column":8},"end":{"line":44,"column":9}}],"line":42},"14":{"loc":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},{"start":{"line":48,"column":8},"end":{"line":50,"column":9}}],"line":48},"15":{"loc":{"start":{"line":48,"column":12},"end":{"line":48,"column":82}},"type":"binary-expr","locations":[{"start":{"line":48,"column":12},"end":{"line":48,"column":42}},{"start":{"line":48,"column":46},"end":{"line":48,"column":82}}],"line":48},"16":{"loc":{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},{"start":{"line":51,"column":8},"end":{"line":53,"column":9}}],"line":51},"17":{"loc":{"start":{"line":56,"column":8},"end":{"line":58,"column":9}},"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":58,"column":9}},{"start":{"line":56,"column":8},"end":{"line":58,"column":9}}],"line":56},"18":{"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":60}},"type":"binary-expr","locations":[{"start":{"line":56,"column":12},"end":{"line":56,"column":28}},{"start":{"line":56,"column":32},"end":{"line":56,"column":60}}],"line":56},"19":{"loc":{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},{"start":{"line":60,"column":12},"end":{"line":62,"column":13}}],"line":60},"20":{"loc":{"start":{"line":64,"column":8},"end":{"line":66,"column":9}},"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":66,"column":9}},{"start":{"line":64,"column":8},"end":{"line":66,"column":9}}],"line":64},"21":{"loc":{"start":{"line":64,"column":12},"end":{"line":64,"column":62}},"type":"binary-expr","locations":[{"start":{"line":64,"column":12},"end":{"line":64,"column":25}},{"start":{"line":64,"column":29},"end":{"line":64,"column":62}}],"line":64}},"s":{"0":1,"1":1,"2":1,"3":8,"4":8,"5":23,"6":1,"7":22,"8":4,"9":18,"10":11,"11":7,"12":5,"13":2,"14":2,"15":0,"16":4,"17":4,"18":0,"19":4,"20":8,"21":11,"22":11,"23":1,"24":10,"25":0,"26":5,"27":5,"28":1,"29":4,"30":0,"31":13,"32":1,"33":12,"34":26,"35":0,"36":12,"37":1,"38":1},"f":{"0":8,"1":23,"2":4,"3":8,"4":11,"5":5,"6":13,"7":26},"b":{"0":[1,22],"1":[4,18],"2":[22,20],"3":[11,7],"4":[18,15,9],"5":[5,2],"6":[2,0],"7":[4,2],"8":[0,4],"9":[4,4],"10":[11,8,2],"11":[1,10],"12":[11,11],"13":[0,10],"14":[1,4],"15":[5,5],"16":[0,4],"17":[1,12],"18":[13,13],"19":[0,26],"20":[1,11],"21":[12,4]},"inputSourceMap":{"version":3,"file":"C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/query/Validator.ts","sources":["C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/query/Validator.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightError} from \"../controller/IInsightFacade\";\r\nimport {Query, Filter, LogicComparison, MComparison, SComparison, Options} from \"../dataModels/Query\";\r\n\r\nexport class Validator {\r\n\tpublic validateQuery(query: Query): void {\r\n\t\tthis.validateWhereClause(query.WHERE);\r\n\t\tthis.validateOptionsClause(query.OPTIONS);\r\n\t}\r\n\r\n\tpublic validateWhereClause(filter: Filter): void {\r\n\t\tif (Object.keys(filter).length === 0) {\r\n\t\t\t// An empty WHERE object is valid, matches all entries\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Depending on the filter type, validate accordingly\r\n\t\tif (\"AND\" in filter || \"OR\" in filter) {\r\n\t\t\tthis.validateLogicComparison(filter as LogicComparison);\r\n\t\t} else if (\"LT\" in filter || \"GT\" in filter || \"EQ\" in filter) {\r\n\t\t\tthis.validateMComparison(filter as MComparison);\r\n\t\t} else if (\"IS\" in filter) {\r\n\t\t\tthis.validateSComparison(filter as SComparison);\r\n\t\t} else if (\"NOT\" in filter) {\r\n\t\t\tthis.validateWhereClause((filter as any).NOT);\r\n\t\t} else {\r\n\t\t\tthrow new InsightError(\"Invalid filter type in WHERE clause\");\r\n\t\t}\r\n\t}\r\n\r\n\tprivate validateLogicComparison(logicComparison: LogicComparison): void {\r\n\t\tconst filters = logicComparison.AND || logicComparison.OR;\r\n\t\tif (!Array.isArray(filters) || filters.length === 0) {\r\n\t\t\tthrow new InsightError(\"AND/OR must have at least one filter\");\r\n\t\t}\r\n\t\tfilters.forEach((filter) => this.validateWhereClause(filter));\r\n\t}\r\n\r\n\tprivate validateMComparison(mComparison: MComparison): void {\r\n\t\tconst comparator = mComparison.LT || mComparison.GT || mComparison.EQ;\r\n\t\tif (typeof comparator !== \"object\" || Object.keys(comparator).length !== 1) {\r\n\t\t\tthrow new InsightError(\"MComparison must have exactly one key-value pair\");\r\n\t\t}\r\n\t\tif (typeof Object.values(comparator)[0] !== \"number\") {\r\n\t\t\tthrow new InsightError(\"The value for MComparison must be a number\");\r\n\t\t}\r\n\t}\r\n\r\n\tprivate validateSComparison(sComparison: SComparison): void {\r\n\t\tconst comparator = sComparison.IS;\r\n\t\tif (typeof comparator !== \"object\" || Object.keys(comparator).length !== 1) {\r\n\t\t\tthrow new InsightError(\"SComparison must have exactly one key-value pair\");\r\n\t\t}\r\n\t\tif (typeof Object.values(comparator)[0] !== \"string\") {\r\n\t\t\tthrow new InsightError(\"The value for SComparison must be a string\");\r\n\t\t}\r\n\t}\r\n\r\n\tpublic validateOptionsClause(options: Options): void {\r\n\t\tif (!options.COLUMNS || options.COLUMNS.length === 0) {\r\n\t\t\tthrow new InsightError(\"COLUMNS must be a non-empty array\");\r\n\t\t}\r\n\t\toptions.COLUMNS.forEach((column) => {\r\n\t\t\tif (typeof column !== \"string\") {\r\n\t\t\t\tthrow new InsightError(\"Each item in COLUMNS must be a string\");\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (options.ORDER && typeof options.ORDER !== \"string\") {\r\n\t\t\tthrow new InsightError(\"ORDER must be a string\");\r\n\t\t}\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f0980d9db6325094010ace5db35d84eaf970c956","contentHash":"b1977d56f46448cb061e7d8e7d5ffcb7109a1643e026c58b0f0121d9055f3c04"},"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\query\\Executor.ts":{"path":"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\query\\Executor.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":64}},"3":{"start":{"line":7,"column":25},"end":{"line":7,"column":34}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":59}},"5":{"start":{"line":9,"column":8},"end":{"line":14,"column":11}},"6":{"start":{"line":10,"column":30},"end":{"line":10,"column":59}},"7":{"start":{"line":11,"column":12},"end":{"line":13,"column":13}},"8":{"start":{"line":12,"column":16},"end":{"line":12,"column":42}},"9":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":66}},"11":{"start":{"line":18,"column":8},"end":{"line":18,"column":48}},"12":{"start":{"line":21,"column":8},"end":{"line":35,"column":11}},"13":{"start":{"line":22,"column":12},"end":{"line":34,"column":13}},"14":{"start":{"line":23,"column":16},"end":{"line":23,"column":95}},"15":{"start":{"line":23,"column":45},"end":{"line":23,"column":93}},"16":{"start":{"line":25,"column":17},"end":{"line":34,"column":13}},"17":{"start":{"line":26,"column":16},"end":{"line":26,"column":61}},"18":{"start":{"line":29,"column":33},"end":{"line":29,"column":54}},"19":{"start":{"line":30,"column":34},"end":{"line":30,"column":65}},"20":{"start":{"line":31,"column":16},"end":{"line":33,"column":17}},"21":{"start":{"line":32,"column":20},"end":{"line":32,"column":46}},"22":{"start":{"line":38,"column":32},"end":{"line":38,"column":48}},"23":{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},"24":{"start":{"line":40,"column":12},"end":{"line":40,"column":53}},"25":{"start":{"line":42,"column":8},"end":{"line":42,"column":20}},"26":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"27":{"start":{"line":46,"column":12},"end":{"line":46,"column":39}},"28":{"start":{"line":48,"column":8},"end":{"line":50,"column":11}},"29":{"start":{"line":49,"column":12},"end":{"line":49,"column":56}},"30":{"start":{"line":53,"column":8},"end":{"line":53,"column":49}},"31":{"start":{"line":56,"column":8},"end":{"line":56,"column":66}},"32":{"start":{"line":59,"column":8},"end":{"line":59,"column":30}},"33":{"start":{"line":62,"column":8},"end":{"line":62,"column":31}},"34":{"start":{"line":65,"column":8},"end":{"line":118,"column":9}},"35":{"start":{"line":66,"column":12},"end":{"line":74,"column":13}},"36":{"start":{"line":67,"column":16},"end":{"line":67,"column":96}},"37":{"start":{"line":67,"column":55},"end":{"line":67,"column":94}},"38":{"start":{"line":69,"column":17},"end":{"line":74,"column":13}},"39":{"start":{"line":70,"column":16},"end":{"line":70,"column":94}},"40":{"start":{"line":70,"column":53},"end":{"line":70,"column":92}},"41":{"start":{"line":73,"column":16},"end":{"line":73,"column":29}},"42":{"start":{"line":76,"column":13},"end":{"line":118,"column":9}},"43":{"start":{"line":77,"column":12},"end":{"line":77,"column":61}},"44":{"start":{"line":79,"column":13},"end":{"line":118,"column":9}},"45":{"start":{"line":80,"column":43},"end":{"line":80,"column":71}},"46":{"start":{"line":81,"column":29},"end":{"line":81,"column":43}},"47":{"start":{"line":82,"column":26},"end":{"line":82,"column":40}},"48":{"start":{"line":83,"column":29},"end":{"line":83,"column":53}},"49":{"start":{"line":84,"column":12},"end":{"line":98,"column":13}},"50":{"start":{"line":85,"column":37},"end":{"line":85,"column":65}},"51":{"start":{"line":86,"column":16},"end":{"line":86,"column":55}},"52":{"start":{"line":88,"column":17},"end":{"line":98,"column":13}},"53":{"start":{"line":89,"column":37},"end":{"line":89,"column":61}},"54":{"start":{"line":90,"column":16},"end":{"line":90,"column":55}},"55":{"start":{"line":92,"column":17},"end":{"line":98,"column":13}},"56":{"start":{"line":93,"column":37},"end":{"line":93,"column":65}},"57":{"start":{"line":94,"column":16},"end":{"line":94,"column":57}},"58":{"start":{"line":97,"column":16},"end":{"line":97,"column":42}},"59":{"start":{"line":100,"column":13},"end":{"line":118,"column":9}},"60":{"start":{"line":101,"column":34},"end":{"line":101,"column":56}},"61":{"start":{"line":102,"column":24},"end":{"line":102,"column":61}},"62":{"start":{"line":103,"column":32},"end":{"line":103,"column":58}},"63":{"start":{"line":104,"column":29},"end":{"line":104,"column":43}},"64":{"start":{"line":105,"column":33},"end":{"line":105,"column":57}},"65":{"start":{"line":106,"column":12},"end":{"line":108,"column":13}},"66":{"start":{"line":107,"column":16},"end":{"line":107,"column":75}},"67":{"start":{"line":109,"column":12},"end":{"line":114,"column":13}},"68":{"start":{"line":110,"column":27},"end":{"line":110,"column":61}},"69":{"start":{"line":111,"column":27},"end":{"line":111,"column":61}},"70":{"start":{"line":112,"column":27},"end":{"line":112,"column":63}},"71":{"start":{"line":113,"column":25},"end":{"line":113,"column":81}},"72":{"start":{"line":117,"column":12},"end":{"line":117,"column":51}},"73":{"start":{"line":121,"column":24},"end":{"line":128,"column":10}},"74":{"start":{"line":122,"column":27},"end":{"line":122,"column":29}},"75":{"start":{"line":123,"column":12},"end":{"line":126,"column":15}},"76":{"start":{"line":124,"column":33},"end":{"line":124,"column":50}},"77":{"start":{"line":125,"column":16},"end":{"line":125,"column":58}},"78":{"start":{"line":127,"column":12},"end":{"line":127,"column":26}},"79":{"start":{"line":129,"column":8},"end":{"line":131,"column":9}},"80":{"start":{"line":130,"column":12},"end":{"line":130,"column":68}},"81":{"start":{"line":132,"column":8},"end":{"line":145,"column":9}},"82":{"start":{"line":133,"column":29},"end":{"line":133,"column":42}},"83":{"start":{"line":134,"column":12},"end":{"line":144,"column":15}},"84":{"start":{"line":135,"column":16},"end":{"line":143,"column":17}},"85":{"start":{"line":136,"column":20},"end":{"line":136,"column":30}},"86":{"start":{"line":138,"column":21},"end":{"line":143,"column":17}},"87":{"start":{"line":139,"column":20},"end":{"line":139,"column":29}},"88":{"start":{"line":142,"column":20},"end":{"line":142,"column":29}},"89":{"start":{"line":146,"column":8},"end":{"line":146,"column":23}},"90":{"start":{"line":149,"column":0},"end":{"line":149,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":28},"end":{"line":19,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":38},"end":{"line":9,"column":39}},"loc":{"start":{"line":9,"column":50},"end":{"line":14,"column":9}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":45},"end":{"line":36,"column":5}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":39},"end":{"line":21,"column":40}},"loc":{"start":{"line":21,"column":57},"end":{"line":35,"column":9}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":30},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":45},"end":{"line":23,"column":93}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":26},"end":{"line":43,"column":5}},"line":37},"6":{"name":"(anonymous_6)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":37},"end":{"line":51,"column":5}},"line":44},"7":{"name":"(anonymous_7)","decl":{"start":{"line":48,"column":42},"end":{"line":48,"column":43}},"loc":{"start":{"line":48,"column":55},"end":{"line":50,"column":9}},"line":48},"8":{"name":"(anonymous_8)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":30},"end":{"line":54,"column":5}},"line":52},"9":{"name":"(anonymous_9)","decl":{"start":{"line":55,"column":4},"end":{"line":55,"column":5}},"loc":{"start":{"line":55,"column":26},"end":{"line":57,"column":5}},"line":55},"10":{"name":"(anonymous_10)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":26},"end":{"line":60,"column":5}},"line":58},"11":{"name":"(anonymous_11)","decl":{"start":{"line":61,"column":4},"end":{"line":61,"column":5}},"loc":{"start":{"line":61,"column":23},"end":{"line":63,"column":5}},"line":61},"12":{"name":"(anonymous_12)","decl":{"start":{"line":64,"column":4},"end":{"line":64,"column":5}},"loc":{"start":{"line":64,"column":36},"end":{"line":119,"column":5}},"line":64},"13":{"name":"(anonymous_13)","decl":{"start":{"line":67,"column":40},"end":{"line":67,"column":41}},"loc":{"start":{"line":67,"column":55},"end":{"line":67,"column":94}},"line":67},"14":{"name":"(anonymous_14)","decl":{"start":{"line":70,"column":38},"end":{"line":70,"column":39}},"loc":{"start":{"line":70,"column":53},"end":{"line":70,"column":92}},"line":70},"15":{"name":"(anonymous_15)","decl":{"start":{"line":120,"column":4},"end":{"line":120,"column":5}},"loc":{"start":{"line":120,"column":37},"end":{"line":147,"column":5}},"line":120},"16":{"name":"(anonymous_16)","decl":{"start":{"line":121,"column":37},"end":{"line":121,"column":38}},"loc":{"start":{"line":121,"column":50},"end":{"line":128,"column":9}},"line":121},"17":{"name":"(anonymous_17)","decl":{"start":{"line":123,"column":36},"end":{"line":123,"column":37}},"loc":{"start":{"line":123,"column":48},"end":{"line":126,"column":13}},"line":123},"18":{"name":"(anonymous_18)","decl":{"start":{"line":134,"column":25},"end":{"line":134,"column":26}},"loc":{"start":{"line":134,"column":35},"end":{"line":144,"column":13}},"line":134}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":12},"end":{"line":13,"column":13}},"type":"if","locations":[{"start":{"line":11,"column":12},"end":{"line":13,"column":13}},{"start":{"line":11,"column":12},"end":{"line":13,"column":13}}],"line":11},"1":{"loc":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},{"start":{"line":15,"column":8},"end":{"line":17,"column":9}}],"line":15},"2":{"loc":{"start":{"line":22,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":34,"column":13}},{"start":{"line":22,"column":12},"end":{"line":34,"column":13}}],"line":22},"3":{"loc":{"start":{"line":22,"column":16},"end":{"line":22,"column":45}},"type":"binary-expr","locations":[{"start":{"line":22,"column":16},"end":{"line":22,"column":29}},{"start":{"line":22,"column":33},"end":{"line":22,"column":45}}],"line":22},"4":{"loc":{"start":{"line":25,"column":17},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":17},"end":{"line":34,"column":13}},{"start":{"line":25,"column":17},"end":{"line":34,"column":13}}],"line":25},"5":{"loc":{"start":{"line":31,"column":16},"end":{"line":33,"column":17}},"type":"if","locations":[{"start":{"line":31,"column":16},"end":{"line":33,"column":17}},{"start":{"line":31,"column":16},"end":{"line":33,"column":17}}],"line":31},"6":{"loc":{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},{"start":{"line":39,"column":8},"end":{"line":41,"column":9}}],"line":39},"7":{"loc":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},{"start":{"line":45,"column":8},"end":{"line":47,"column":9}}],"line":45},"8":{"loc":{"start":{"line":53,"column":15},"end":{"line":53,"column":48}},"type":"binary-expr","locations":[{"start":{"line":53,"column":15},"end":{"line":53,"column":30}},{"start":{"line":53,"column":34},"end":{"line":53,"column":48}}],"line":53},"9":{"loc":{"start":{"line":56,"column":15},"end":{"line":56,"column":65}},"type":"binary-expr","locations":[{"start":{"line":56,"column":15},"end":{"line":56,"column":29}},{"start":{"line":56,"column":33},"end":{"line":56,"column":47}},{"start":{"line":56,"column":51},"end":{"line":56,"column":65}}],"line":56},"10":{"loc":{"start":{"line":65,"column":8},"end":{"line":118,"column":9}},"type":"if","locations":[{"start":{"line":65,"column":8},"end":{"line":118,"column":9}},{"start":{"line":65,"column":8},"end":{"line":118,"column":9}}],"line":65},"11":{"loc":{"start":{"line":66,"column":12},"end":{"line":74,"column":13}},"type":"if","locations":[{"start":{"line":66,"column":12},"end":{"line":74,"column":13}},{"start":{"line":66,"column":12},"end":{"line":74,"column":13}}],"line":66},"12":{"loc":{"start":{"line":69,"column":17},"end":{"line":74,"column":13}},"type":"if","locations":[{"start":{"line":69,"column":17},"end":{"line":74,"column":13}},{"start":{"line":69,"column":17},"end":{"line":74,"column":13}}],"line":69},"13":{"loc":{"start":{"line":76,"column":13},"end":{"line":118,"column":9}},"type":"if","locations":[{"start":{"line":76,"column":13},"end":{"line":118,"column":9}},{"start":{"line":76,"column":13},"end":{"line":118,"column":9}}],"line":76},"14":{"loc":{"start":{"line":79,"column":13},"end":{"line":118,"column":9}},"type":"if","locations":[{"start":{"line":79,"column":13},"end":{"line":118,"column":9}},{"start":{"line":79,"column":13},"end":{"line":118,"column":9}}],"line":79},"15":{"loc":{"start":{"line":84,"column":12},"end":{"line":98,"column":13}},"type":"if","locations":[{"start":{"line":84,"column":12},"end":{"line":98,"column":13}},{"start":{"line":84,"column":12},"end":{"line":98,"column":13}}],"line":84},"16":{"loc":{"start":{"line":84,"column":16},"end":{"line":84,"column":80}},"type":"binary-expr","locations":[{"start":{"line":84,"column":16},"end":{"line":84,"column":47}},{"start":{"line":84,"column":51},"end":{"line":84,"column":80}}],"line":84},"17":{"loc":{"start":{"line":88,"column":17},"end":{"line":98,"column":13}},"type":"if","locations":[{"start":{"line":88,"column":17},"end":{"line":98,"column":13}},{"start":{"line":88,"column":17},"end":{"line":98,"column":13}}],"line":88},"18":{"loc":{"start":{"line":92,"column":17},"end":{"line":98,"column":13}},"type":"if","locations":[{"start":{"line":92,"column":17},"end":{"line":98,"column":13}},{"start":{"line":92,"column":17},"end":{"line":98,"column":13}}],"line":92},"19":{"loc":{"start":{"line":100,"column":13},"end":{"line":118,"column":9}},"type":"if","locations":[{"start":{"line":100,"column":13},"end":{"line":118,"column":9}},{"start":{"line":100,"column":13},"end":{"line":118,"column":9}}],"line":100},"20":{"loc":{"start":{"line":106,"column":12},"end":{"line":108,"column":13}},"type":"if","locations":[{"start":{"line":106,"column":12},"end":{"line":108,"column":13}},{"start":{"line":106,"column":12},"end":{"line":108,"column":13}}],"line":106},"21":{"loc":{"start":{"line":109,"column":12},"end":{"line":114,"column":13}},"type":"switch","locations":[{"start":{"line":110,"column":16},"end":{"line":110,"column":61}},{"start":{"line":111,"column":16},"end":{"line":111,"column":61}},{"start":{"line":112,"column":16},"end":{"line":112,"column":63}},{"start":{"line":113,"column":16},"end":{"line":113,"column":81}}],"line":109},"22":{"loc":{"start":{"line":129,"column":8},"end":{"line":131,"column":9}},"type":"if","locations":[{"start":{"line":129,"column":8},"end":{"line":131,"column":9}},{"start":{"line":129,"column":8},"end":{"line":131,"column":9}}],"line":129},"23":{"loc":{"start":{"line":132,"column":8},"end":{"line":145,"column":9}},"type":"if","locations":[{"start":{"line":132,"column":8},"end":{"line":145,"column":9}},{"start":{"line":132,"column":8},"end":{"line":145,"column":9}}],"line":132},"24":{"loc":{"start":{"line":135,"column":16},"end":{"line":143,"column":17}},"type":"if","locations":[{"start":{"line":135,"column":16},"end":{"line":143,"column":17}},{"start":{"line":135,"column":16},"end":{"line":143,"column":17}}],"line":135},"25":{"loc":{"start":{"line":138,"column":21},"end":{"line":143,"column":17}},"type":"if","locations":[{"start":{"line":138,"column":21},"end":{"line":143,"column":17}},{"start":{"line":138,"column":21},"end":{"line":143,"column":17}}],"line":138}},"s":{"0":1,"1":1,"2":1,"3":10,"4":10,"5":10,"6":21,"7":21,"8":21,"9":10,"10":1,"11":9,"12":15,"13":15,"14":2,"15":4,"16":13,"17":1,"18":12,"19":12,"20":12,"21":12,"22":33,"23":33,"24":33,"25":0,"26":9,"27":1,"28":8,"29":516896,"30":778456,"31":452269,"32":584620,"33":649232,"34":778456,"35":129224,"36":64612,"37":67739,"38":64612,"39":64612,"40":129209,"41":0,"42":649232,"43":64612,"44":584620,"45":132351,"46":132351,"47":132351,"48":132351,"49":132351,"50":0,"51":0,"52":132351,"53":64612,"54":64612,"55":67739,"56":0,"57":0,"58":67739,"59":452269,"60":452269,"61":452269,"62":452269,"63":452269,"64":452269,"65":452269,"66":0,"67":452269,"68":129224,"69":193836,"70":129209,"71":0,"72":0,"73":10,"74":6627,"75":6627,"76":13310,"77":13310,"78":6627,"79":10,"80":1,"81":9,"82":2,"83":2,"84":215,"85":122,"86":93,"87":67,"88":26,"89":9,"90":1},"f":{"0":10,"1":21,"2":15,"3":15,"4":4,"5":33,"6":9,"7":516896,"8":778456,"9":452269,"10":584620,"11":649232,"12":778456,"13":67739,"14":129209,"15":10,"16":6627,"17":13310,"18":215},"b":{"0":[21,0],"1":[1,9],"2":[2,13],"3":[15,14],"4":[1,12],"5":[12,0],"6":[33,0],"7":[1,8],"8":[778456,713844],"9":[452269,323045,129209],"10":[129224,649232],"11":[64612,64612],"12":[64612,0],"13":[64612,584620],"14":[132351,452269],"15":[0,132351],"16":[132351,64612],"17":[64612,67739],"18":[0,67739],"19":[452269,0],"20":[0,452269],"21":[129224,193836,129209,0],"22":[1,9],"23":[2,7],"24":[122,93],"25":[67,26]},"inputSourceMap":{"version":3,"file":"C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/query/Executor.ts","sources":["C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/query/Executor.ts"],"names":[],"mappings":"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","sourcesContent":["import {Query, Filter, LogicComparison, MComparison, SComparison, Options, Negation} from \"../dataModels/Query\";\r\nimport CourseData from \"../dataModels/CourseData\";\r\nimport Section from \"../dataModels/Section\";\r\nimport {ResultTooLargeError} from \"../controller/IInsightFacade\";\r\n\r\nexport class Executor {\r\n\tpublic extractDatasetId(query: Query): string {\r\n\t\t// Initialize an empty set to collect unique dataset IDs\r\n\t\tlet datasetIds = new Set<string>();\r\n\r\n\t\t// Extract dataset IDs from the WHERE clause\r\n\t\tthis.extractIdsFromFilter(query.WHERE, datasetIds);\r\n\r\n\t\t// Extract dataset IDs from the OPTIONS clause\r\n\t\tquery.OPTIONS.COLUMNS.forEach((column) => {\r\n\t\t\tconst datasetId = this.extractIdFromKey(column);\r\n\t\t\tif (datasetId) {\r\n\t\t\t\tdatasetIds.add(datasetId);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Assuming consistency, there should only be one dataset ID\r\n\t\tif (datasetIds.size !== 1) {\r\n\t\t\tthrow new Error(\"Query must use a single dataset ID\");\r\n\t\t}\r\n\r\n\t\treturn datasetIds.values().next().value;\r\n\t}\r\n\r\n\tprivate extractIdsFromFilter(filter: Filter, datasetIds: Set<string>): void {\r\n\t\t// if (Object.keys(filter).length === 0) {\r\n\t\t// \t// Base case: empty filter\r\n\t\t// \treturn;\r\n\t\t// }\r\n\r\n\t\tObject.entries(filter).forEach(([key, value]) => {\r\n\t\t\tif (key === \"AND\" || key === \"OR\") {\r\n\t\t\t\t(value as Filter[]).forEach((subFilter) => this.extractIdsFromFilter(subFilter, datasetIds));\r\n\t\t\t} else if (key === \"NOT\") {\r\n\t\t\t\tthis.extractIdsFromFilter(value as Filter, datasetIds);\r\n\t\t\t} else {\r\n\t\t\t\t// MComparison, SComparison\r\n\t\t\t\tconst fieldKey = Object.keys(value)[0];\r\n\t\t\t\tconst datasetId = this.extractIdFromKey(fieldKey);\r\n\t\t\t\tif (datasetId) {\r\n\t\t\t\t\tdatasetIds.add(datasetId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate extractIdFromKey(key: string): string | null {\r\n\t\tconst underscoreIndex = key.indexOf(\"_\");\r\n\t\tif (underscoreIndex !== -1) {\r\n\t\t\treturn key.substring(0, underscoreIndex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic applyFilters(courseData: CourseData, filter: Filter): Section[] {\r\n\t\tif (Object.keys(filter).length === 0) {\r\n\t\t\t// If the filter is empty, return all sections\r\n\t\t\treturn courseData.sections;\r\n\t\t}\r\n\r\n\t\treturn courseData.sections.filter((section) => {\r\n\t\t\treturn this.evaluateFilter(section, filter);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate isLogicComparison(filter: Filter): filter is LogicComparison {\r\n\t\treturn \"AND\" in filter || \"OR\" in filter;\r\n\t}\r\n\r\n\tprivate isMComparison(filter: Filter): filter is MComparison {\r\n\t\treturn \"LT\" in filter || \"GT\" in filter || \"EQ\" in filter;\r\n\t}\r\n\r\n\tprivate isSComparison(filter: Filter): filter is SComparison {\r\n\t\treturn \"IS\" in filter;\r\n\t}\r\n\r\n\tprivate isNegation(filter: Filter): filter is Negation {\r\n\t\treturn \"NOT\" in filter;\r\n\t}\r\n\r\n\tprivate evaluateFilter(section: Section, filter: Filter): boolean {\r\n\t\tif (this.isLogicComparison(filter)) {\r\n\t\t\tif (filter.AND) {\r\n\t\t\t\treturn filter.AND.every((subFilter) => this.evaluateFilter(section, subFilter));\r\n\t\t\t} else if (filter.OR) {\r\n\t\t\t\treturn filter.OR.some((subFilter) => this.evaluateFilter(section, subFilter));\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} else if (this.isNegation(filter)) {\r\n\t\t\treturn !this.evaluateFilter(section, filter.NOT);\r\n\t\t} else if (this.isSComparison(filter)) {\r\n\t\t\tconst [key, comparisonValue] = Object.entries(filter.IS)[0];\r\n\t\t\tconst keyParts = key.split(\"_\");\r\n\t\t\tconst value = filter.IS[key];\r\n\t\t\tconst getValue = section.get(keyParts[1]) as string;\r\n\t\t\t// Assuming wildcards are not to be implemented in this example\r\n\t\t\tif (comparisonValue.startsWith(\"*\") && comparisonValue.endsWith(\"*\")) {\r\n\t\t\t\tconst trimmedValue = comparisonValue.slice(1, -1);\r\n\t\t\t\treturn getValue.includes(trimmedValue);\r\n\t\t\t} else if (comparisonValue.startsWith(\"*\")) {\r\n\t\t\t\tconst trimmedValue = comparisonValue.slice(1);\r\n\t\t\t\treturn getValue.endsWith(trimmedValue);\r\n\t\t\t} else if (comparisonValue.endsWith(\"*\")) {\r\n\t\t\t\tconst trimmedValue = comparisonValue.slice(0, -1);\r\n\t\t\t\treturn getValue.startsWith(trimmedValue);\r\n\t\t\t} else {\r\n\t\t\t\treturn getValue === value;\r\n\t\t\t}\r\n\t\t} else if (this.isMComparison(filter)) {\r\n\t\t\tconst comparatorKey = Object.keys(filter)[0];\r\n\t\t\tconst key = Object.keys((filter as any)[comparatorKey])[0];\r\n\t\t\tconst targetValue = (filter as any)[comparatorKey][key];\r\n\t\t\tconst keyParts = key.split(\"_\");\r\n\t\t\tconst sectionValue = section.get(keyParts[1]);\r\n\r\n\t\t\tif (sectionValue === undefined) {\r\n\t\t\t\tthrow new Error(\"Attempted to compare an undefined value\");\r\n\t\t\t}\r\n\r\n\t\t\tswitch (comparatorKey) {\r\n\t\t\t\tcase \"LT\": return sectionValue < targetValue;\r\n\t\t\t\tcase \"GT\": return sectionValue > targetValue;\r\n\t\t\t\tcase \"EQ\": return sectionValue === targetValue;\r\n\t\t\t\tdefault: throw new Error(`Unknown comparison: ${comparatorKey}`);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Unknown filter type\");\r\n\t\t}\r\n\t}\r\n\r\n\tpublic formatResults(sections: Section[], options: Options): any[] {\r\n\t\t// Step 1: Select the specified columns\r\n\t\tconst results = sections.map((section) => {\r\n\t\t\tconst result: any = {};\r\n\t\t\toptions.COLUMNS.forEach((column) => {\r\n\t\t\t\tconst colParts = column.split(\"_\");\r\n\t\t\t\tresult[column] = section.get(colParts[1]);\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t});\r\n\t\tif (results.length > 5000) {\r\n\t\t\tthrow new ResultTooLargeError(\"Oh no\");\r\n\t\t}\r\n\t\t// Step 2: Sort the results if an ORDER key is specified\r\n\t\tif (options.ORDER) {\r\n\t\t\tconst orderKey = options.ORDER;\r\n\t\t\tresults.sort((a, b) => {\r\n\t\t\t\tif (a[orderKey] < b[orderKey]) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t} else if (a[orderKey] > b[orderKey]) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn results;\r\n\t}\r\n\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"25639197d8696518524d1ab92553be416298e026","contentHash":"68a500695093a45c2e68dad6c391c8986619f28b6e082803412e9ed1cf0c57ec"},"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\util\\DatasetCacheManager.ts":{"path":"C:\\Users\\Aryaan Habib\\Desktop\\CLASSES\\Year 3\\TERM 2\\CPSC 310\\project_team117\\src\\util\\DatasetCacheManager.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":37}},"26":{"start":{"line":27,"column":12},"end":{"line":27,"column":45}},"27":{"start":{"line":28,"column":25},"end":{"line":28,"column":64}},"28":{"start":{"line":29,"column":13},"end":{"line":29,"column":42}},"29":{"start":{"line":31,"column":14},"end":{"line":31,"column":23}},"30":{"start":{"line":33,"column":8},"end":{"line":33,"column":42}},"31":{"start":{"line":34,"column":25},"end":{"line":34,"column":52}},"32":{"start":{"line":35,"column":8},"end":{"line":35,"column":44}},"33":{"start":{"line":38,"column":25},"end":{"line":38,"column":52}},"34":{"start":{"line":39,"column":8},"end":{"line":46,"column":9}},"35":{"start":{"line":40,"column":12},"end":{"line":40,"column":39}},"36":{"start":{"line":41,"column":12},"end":{"line":41,"column":73}},"37":{"start":{"line":44,"column":12},"end":{"line":44,"column":78}},"38":{"start":{"line":45,"column":12},"end":{"line":45,"column":57}},"39":{"start":{"line":49,"column":8},"end":{"line":59,"column":9}},"40":{"start":{"line":50,"column":26},"end":{"line":50,"column":57}},"41":{"start":{"line":51,"column":24},"end":{"line":53,"column":60}},"42":{"start":{"line":52,"column":34},"end":{"line":52,"column":64}},"43":{"start":{"line":53,"column":31},"end":{"line":53,"column":59}},"44":{"start":{"line":54,"column":12},"end":{"line":54,"column":23}},"45":{"start":{"line":57,"column":12},"end":{"line":57,"column":65}},"46":{"start":{"line":58,"column":12},"end":{"line":58,"column":93}},"47":{"start":{"line":62,"column":0},"end":{"line":62,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":32},"end":{"line":36,"column":5}},"line":32},"7":{"name":"(anonymous_7)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":28},"end":{"line":47,"column":5}},"line":37},"8":{"name":"(anonymous_8)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":27},"end":{"line":60,"column":5}},"line":48},"9":{"name":"(anonymous_9)","decl":{"start":{"line":52,"column":24},"end":{"line":52,"column":25}},"loc":{"start":{"line":52,"column":34},"end":{"line":52,"column":64}},"line":52},"10":{"name":"(anonymous_10)","decl":{"start":{"line":53,"column":21},"end":{"line":53,"column":22}},"loc":{"start":{"line":53,"column":31},"end":{"line":53,"column":59}},"line":53}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":164,"2":164,"3":164,"4":164,"5":164,"6":39,"7":164,"8":0,"9":0,"10":0,"11":1,"12":2,"13":0,"14":1,"15":2,"16":0,"17":2,"18":2,"19":2,"20":164,"21":164,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":26,"30":11,"31":11,"32":11,"33":4,"34":4,"35":4,"36":4,"37":0,"38":0,"39":5,"40":5,"41":5,"42":4,"43":4,"44":5,"45":0,"46":0,"47":1},"f":{"0":164,"1":39,"2":0,"3":2,"4":0,"5":2,"6":11,"7":4,"8":5,"9":4,"10":4},"b":{"0":[1,1,1],"1":[1,0],"2":[164,0],"3":[164,0],"4":[164,164],"5":[0,164],"6":[164,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,2],"12":[2,2],"13":[2,0],"14":[164,0],"15":[164,164]},"inputSourceMap":{"version":3,"file":"C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/util/DatasetCacheManager.ts","sources":["C:/Users/Aryaan Habib/Desktop/CLASSES/Year 3/TERM 2/CPSC 310/project_team117/src/util/DatasetCacheManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAgC;AAChC,iEAA8F;AAC9F,2CAA6B;AAC7B,MAAa,mBAAmB;IACvB,OAAO,GAAG,SAAS,CAAC;IAErB,KAAK,CAAC,WAAW,CAAC,EAAU,EAAE,IAAS;QAC7C,MAAM,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAClC,MAAM,QAAQ,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,EAAE,OAAO,CAAC;QAC7C,MAAM,GAAG,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,EAAU;QACpC,MAAM,QAAQ,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,EAAE,OAAO,CAAC;QAC7C,IAAI;YACH,MAAM,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAC3B,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,kCAAkC,CAAC,CAAC;SAC7D;QAAC,OAAO,KAAK,EAAE;YACf,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,eAAe,KAAK,EAAE,CAAC,CAAC;YAClE,MAAM,IAAI,6BAAY,CAAC,GAAG,CAAC,CAAC;SAC5B;IACF,CAAC;IAEM,KAAK,CAAC,cAAc;QAC1B,IAAI;YACH,MAAM,KAAK,GAAG,MAAM,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC9C,MAAM,GAAG,GAAG,KAAK;iBACf,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,OAAO,CAAC;iBAChD,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;YAC9C,OAAO,GAAG,CAAC;SACX;QAAC,OAAO,KAAK,EAAE;YACf,OAAO,CAAC,KAAK,CAAC,8BAA8B,KAAK,EAAE,CAAC,CAAC;YACrD,MAAM,IAAI,6BAAY,CAAC,uCAAuC,CAAC,CAAC;SAChE;IACF,CAAC;CACD;AAhCD,kDAgCC","sourcesContent":["import * as fse from \"fs-extra\";\r\nimport {InsightDataset, InsightDatasetKind, InsightError} from \"../controller/IInsightFacade\";\r\nimport * as path from \"path\";\r\nexport class DatasetCacheManager {\r\n\tprivate dataDir = \"./data/\"; // Class property\r\n\r\n\tpublic async saveDataset(id: string, data: any): Promise<void> {\r\n\t\tawait fse.ensureDir(this.dataDir); // Use the class property\r\n\t\tconst filePath = `${this.dataDir}${id}.json`;\r\n\t\tawait fse.writeJson(filePath, data);\r\n\t}\r\n\r\n\tpublic async removeDataset(id: string): Promise<void> {\r\n\t\tconst filePath = `${this.dataDir}${id}.json`; // Use the class property\r\n\t\ttry {\r\n\t\t\tawait fse.remove(filePath);\r\n\t\t\tconsole.log(`Dataset ${id} removed successfully from disk.`);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Error removing dataset ${id} from disk: ${error}`);\r\n\t\t\tthrow new InsightError(\"o\");\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async listDatasetIds(): Promise<string[]> {\r\n\t\ttry {\r\n\t\t\tconst files = await fse.readdir(this.dataDir);\r\n\t\t\tconst ids = files\r\n\t\t\t\t.filter((file) => path.extname(file) === \".json\")\r\n\t\t\t\t.map((file) => path.basename(file, \".json\"));\r\n\t\t\treturn ids;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Error listing dataset IDs: ${error}`);\r\n\t\t\tthrow new InsightError(\"Failed to list dataset IDs from disk.\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"29a71faf0d3ba071d3408823537e4a36fcbd2555","contentHash":"c0d9738ceb81db986e6856d135007181230c34fb88c6ff0c149a0e1de74a3963"}}